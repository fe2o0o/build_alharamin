import{$ as c,A as v,Aa as z,Ab as me,B as V,C as H,Ca as re,Ea as ae,Ga as le,Gb as _e,Hb as ue,J as r,Ja as oe,K as C,Lb as be,Ob as ge,P as x,Q as ne,R as h,Rb as he,S as N,Sb as fe,U as w,Vb as ve,W as T,Wb as xe,X as M,Xb as we,Y as k,Z as i,_ as a,aa as L,ab as se,ba as E,ca as _,db as de,fa as I,fb as J,hb as W,ja as q,jb as pe,ka as l,kb as X,la as u,lb as G,m as Q,ma as S,mb as $,na as g,o as ee,oa as R,pa as P,pb as B,q as te,qa as D,r as O,t as ie,ta as y,v as F,va as U,vb as ce,w as j,ya as o,z as f,za as s}from"./chunk-HSDGEO3H.js";var Z=(()=>{class t{constructor(e){this._HttpClient=e}getAllSystemAlerts(e,d){return this._HttpClient.get(B.app_api_url+`AlertSetting/system-alerts?PageNumber=${e}&PageSize=${d}`)}getAlertDetails(e,d,n){return this._HttpClient.get(B.app_api_url+`AlertSetting/camera-alert-details/${e}?PageNumber=${d}&PageSize=${n}`)}addThreShold(e){return this._HttpClient.post(B.app_api_url+"AlertSetting/AlertSetting",e)}deleteAlert(e){return this._HttpClient.delete(B.app_api_url+`AlertSetting/DeleteSystemAlert/${e}`)}static{this.\u0275fac=function(d){return new(d||t)(ie(oe))}}static{this.\u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Re=()=>({width:"30vw"}),K=()=>({"1199px":"50vw","575px":"90vw"}),Ce=()=>({width:"40vw"}),Pe=()=>[1,2,3,4,5],De=(t,p)=>["/alharamain-app/alerts/recent",t,p];function Be(t,p){if(t&1){let e=L();i(0,"div",44)(1,"div",45)(2,"div",46)(3,"div",47)(4,"div",48),c(5,"i",49),i(6,"p"),l(7),o(8,"translate"),a()()(),i(9,"button",50),E("click",function(){let n=f(e).$implicit,b=_(2);return b.showDeletePopUp=!0,v(b.current_selected_delete=n.id)}),c(10,"i",51),a()(),i(11,"p",52)(12,"span",53),l(13),o(14,"translate"),a(),i(15,"span"),l(16),a()()(),i(17,"div",54)(18,"div",55)(19,"p",56),l(20),o(21,"translate"),a(),i(22,"p",57),l(23),a()(),i(24,"div",55)(25,"p",56),l(26),o(27,"translate"),a(),i(28,"p",58),l(29),a()(),i(30,"div",55)(31,"p",56),l(32),o(33,"translate"),a(),i(34,"p",57),l(35),a()(),i(36,"div",55)(37,"p",56),l(38),o(39,"translate"),a(),i(40,"p",58),l(41),a()(),i(42,"div",59)(43,"p",56),l(44),o(45,"translate"),a(),i(46,"p",60),l(47),o(48,"date"),a()()(),i(49,"div",61)(50,"button",62),E("click",function(){let n=f(e).$implicit,b=_(2),A=q(4);return b.selectedAlert=n,v(A.onImageClick())}),l(51),o(52,"translate"),a(),i(53,"button",63),E("click",function(){let n=f(e).$implicit,b=_(2);return v(b.handleShowDetails(n))}),l(54),o(55,"translate"),a()()()}if(t&2){let e=p.$implicit;r(7),u(s(8,15,"ALERTS.CAMERA")),r(6),S("",s(14,17,"ALERTS.ALERT"),": "),r(3),u(e==null?null:e.msg),r(4),S(" ",s(21,19,"ALERTS.ID")," "),r(3),u(e==null?null:e.id),r(3),S(" ",s(27,21,"ALERTS.COUNT")," "),r(3),u(e==null?null:e.peopleCount),r(3),S(" ",s(33,23,"ALERTS.THRESHOLD")," "),r(3),u(e==null?null:e.peopleMax),r(3),S(" ",s(39,25,"ALERTS.STATUS")," "),r(3),u(e==null?null:e.status),r(3),S(" ",s(45,27,"ALERTS.TIME")," "),r(3),u(z(48,29,e==null?null:e.timestamp,"dd MMM yy, hh:mm:ss a")),r(4),u(s(52,32,"ALERTS.VIEW_IMAGE")),r(3),u(s(55,34,"ALERTS.VIEW_DETAILS"))}}function Oe(t,p){if(t&1&&M(0,Be,56,36,"div",44,T),t&2){let e=_();k(e.alerts)}}function Fe(t,p){t&1&&(i(0,"div",44),c(1,"p-skeleton",64),a())}function je(t,p){t&1&&M(0,Fe,2,0,"div",44,T),t&2&&k(y(0,Pe))}function Ve(t,p){if(t&1&&(i(0,"li",18),c(1,"i",65),i(2,"p"),l(3),o(4,"translate"),a()()),t&2){let e=_();r(3),g(" ",s(4,2,"ALERTS.ALERT_DATE"),": ",e.selected_alert_view==null?null:e.selected_alert_view.formattedDate," ")}}function He(t,p){if(t&1&&(i(0,"li",18),c(1,"i",66),i(2,"p"),l(3),o(4,"translate"),a()()),t&2){let e=_();r(3),g(" ",s(4,2,"ALERTS.CURRENT_COUNT"),": ",e.selected_alert_view==null?null:e.selected_alert_view.PeopleCount," ")}}function Ne(t,p){if(t&1&&(i(0,"li",18),c(1,"i",67),i(2,"p"),l(3),o(4,"translate"),a()()),t&2){let e=_();r(3),g(" ",s(4,2,"ALERTS.AVERAGE")," : ",e.selected_alert_view==null?null:e.selected_alert_view.PeopleAvg," ")}}function Ue(t,p){if(t&1&&(i(0,"li",18),c(1,"i",68),i(2,"p"),l(3),o(4,"translate"),a()()),t&2){let e=_();r(3),g(" ",s(4,2,"ALERTS.MINIMUM")," : ",e.selected_alert_view==null?null:e.selected_alert_view.PeopleMin," ")}}function ze(t,p){if(t&1&&(i(0,"li",18),c(1,"i",69),i(2,"p"),l(3),o(4,"translate"),a()()),t&2){let e=_();r(3),g(" ",s(4,2,"ALERTS.MAXIMUM")," : ",e.selected_alert_view==null?null:e.selected_alert_view.PeopleMax," ")}}function We(t,p){if(t&1&&(i(0,"li",18),c(1,"i",70),i(2,"p"),l(3),o(4,"translate"),a()()),t&2){let e=_();r(3),g(" ",s(4,2,"ALERTS.THRESHOLD")," : ",e.selected_alert_view==null?null:e.selected_alert_view.PeopleMax," ")}}function Xe(t,p){if(t&1&&(i(0,"div",71)(1,"div",72),c(2,"p-button",73),o(3,"translate"),a()()),t&2){let e=_();r(2),I("label",s(3,2,"ALERTS.RECENT_ALERTS_TITLE")),h("routerLink",U(4,De,e.current_shown_alert_id,e.current_type))}}function Ge(t,p){if(t&1){let e=L();i(0,"div",71)(1,"div",74)(2,"p-button",75),o(3,"translate"),E("onClick",function(){f(e);let n=_();return v(n.handlleDelete())}),a()()()}if(t&2){let e=_(),d=q(93);r(2),I("label",s(3,3,"ALERTS.DELETE")),h("disabled",d.value.toLocaleLowerCase()!="delete")("loading",e.loadDelete)}}function $e(t,p){if(t&1){let e=L();i(0,"div",71)(1,"div",74)(2,"p-button",76),o(3,"translate"),E("click",function(){f(e);let n=_();return v(n.addthershold())}),a()()()}if(t&2){let e=_();r(2),I("label",s(3,3,"ALERTS.SET")),h("disabled",!e.threshold)("loading",e.loadingAdd)}}var ye=(()=>{class t{constructor(e,d,n){this._MessageService=e,this._AlertsService=d,this._SharedService=n,this.loadDelete=!1,this.showDeletePopUp=!1,this.alerts=[],this.showAlertDetail=!1,this.loadingAdd=!1,this.showEditPopUp=!1,this.threshold=0,this._SharedService.breadCrumbTitle.next("SIDEBAR.EMERGENCY")}handleShowDetails(e){this.current_type=e?.deviceType,this.current_shown_alert_id=e?.id,this.selected_alert_view=e?.cameraAlerts[0],this.showAlertDetail=!0,this.threshold=this.selected_alert_view.PeopleMax}getAlertsSystem(){this._AlertsService.getAllSystemAlerts(1,999).subscribe(e=>{console.log("res alerts",e),this.alerts=e?.items})}handlleDelete(){this.loadDelete=!0,this._AlertsService.deleteAlert(this.current_selected_delete).subscribe(e=>{this.loadDelete=!1,this.showDeletePopUp=!1,this._MessageService.add({severity:"success",summary:"Success",detail:"Alert Deleted Successfully !"}),this.getAlertsSystem()})}ngOnInit(){this.getAlertsSystem()}addthershold(){this.loadingAdd=!0,this._AlertsService.addThreShold({peopleThreshold:this.threshold,deviceType:this.selected_alert_view?.DeviceType}).subscribe(e=>{this.loadingAdd=!1,this.showAlertDetail=!1,this.showEditPopUp=!1,this._MessageService.add({severity:"success",summary:"Success",detail:"Threshold Added Successfully"}),this.getAlertsSystem()})}static{this.\u0275fac=function(d){return new(d||t)(C(X),C(Z),C($))}}static{this.\u0275cmp=F({type:t,selectors:[["app-list-alerts"]],decls:115,vars:103,consts:[["img_prev",""],["confirm_input",""],[1,"grid","grid-cols-12","gap-5"],[3,"previewImageSrc","preview"],["header","","styleClass","select_type_popup user",3,"visibleChange","visible","dismissableMask","modal","breakpoints","draggable","resizable"],[1,"icon_over_lay","flex","items-center","round","justify-center"],["width","50","height","50","viewBox","0 0 50 50","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M18.75 45.8333H31.25C41.6667 45.8333 45.8334 41.6666 45.8334 31.25V18.75C45.8334 8.33329 41.6667 4.16663 31.25 4.16663H18.75C8.33335 4.16663 4.16669 8.33329 4.16669 18.75V31.25C4.16669 41.6666 8.33335 45.8333 18.75 45.8333Z","stroke","#9F8A60","stroke-width","3","stroke-linecap","round","stroke-linejoin","round"],["d","M32.8125 18.75H17.1875","stroke","#9F8A60","stroke-width","3","stroke-linecap","round","stroke-linejoin","round"],["d","M32.8125 31.25H17.1875","stroke","#9F8A60","stroke-width","3","stroke-linecap","round","stroke-linejoin","round"],[1,"mb-8"],[1,"flex","items-center","justify-between"],[1,"text-2xl","text-center","text-gold_color","font-semibold","mb-4"],[1,"bg-white_color","px-4","py-3","flex","items-center","text-black_color","justify-center","gap-4","rounded-xl","min-w-24",3,"click"],[1,"fi","fi-rr-settings"],[1,"basic","mb-5"],[1,"font-semibold","mb-4"],[1,"flex","flex-col","gap-4"],[1,"flex","items-center","gap-4"],[1,"fi","fi-rr-poll-h"],[1,"fi","fi-rr-heart-rate"],[1,"fi","fi-rr-screen"],[1,"fi","fi-rr-rectangle-barcode"],[1,"fi","fi-rr-calendar"],["pTemplate","footer"],["header","","styleClass","select_type_popup",3,"visibleChange","visible","dismissableMask","modal","breakpoints","draggable","resizable"],["width","40","height","40","viewBox","0 0 40 40","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M35 9.96663C29.45 9.41663 23.8667 9.1333 18.3 9.1333C15 9.1333 11.7 9.29997 8.4 9.6333L5 9.96663","stroke","#9F8A60","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M14.1665 8.28333L14.5332 6.1C14.7998 4.51666 14.9998 3.33333 17.8165 3.33333H22.1832C24.9998 3.33333 25.2165 4.58333 25.4665 6.11666L25.8332 8.28333","stroke","#9F8A60","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M31.4168 15.2334L30.3335 32.0167C30.1501 34.6333 30.0001 36.6667 25.3501 36.6667H14.6502C10.0002 36.6667 9.85016 34.6333 9.66683 32.0167L8.5835 15.2334","stroke","#9F8A60","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M17.2168 27.5H22.7668","stroke","#9F8A60","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M15.8335 20.8333H24.1668","stroke","#9F8A60","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"text-center","mb-8"],[1,"text-2xl","text-gold_color","font-medium"],[1,"text-gold_color/50"],[1,"devices_types__container"],[1,"form-group","mb-5"],[1,"custom_input"],["id","name","pInputText","",1,"custom_input",3,"placeholder"],["d","M25 31.25C28.4519 31.25 31.25 28.4519 31.25 25C31.25 21.5481 28.4519 18.75 25 18.75C21.5481 18.75 18.75 21.5481 18.75 25C18.75 28.4519 21.5481 31.25 25 31.25Z","stroke","#9F8A60","stroke-width","3","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],["d","M4.16675 26.8331V23.1664C4.16675 20.9997 5.93758 19.2082 8.12508 19.2082C11.8959 19.2082 13.4376 16.5415 11.5417 13.2707C10.4584 11.3957 11.1042 8.95816 13.0001 7.87483L16.6042 5.81233C18.2501 4.83316 20.3751 5.41649 21.3542 7.06233L21.5834 7.45816C23.4584 10.729 26.5417 10.729 28.4376 7.45816L28.6667 7.06233C29.6459 5.41649 31.7709 4.83316 33.4167 5.81233L37.0209 7.87483C38.9167 8.95816 39.5626 11.3957 38.4792 13.2707C36.5834 16.5415 38.1251 19.2082 41.8959 19.2082C44.0626 19.2082 45.8542 20.9789 45.8542 23.1664V26.8331C45.8542 28.9997 44.0834 30.7914 41.8959 30.7914C38.1251 30.7914 36.5834 33.4581 38.4792 36.7289C39.5626 38.6247 38.9167 41.0414 37.0209 42.1247L33.4167 44.1872C31.7709 45.1664 29.6459 44.5831 28.6667 42.9372L28.4376 42.5414C26.5626 39.2706 23.4792 39.2706 21.5834 42.5414L21.3542 42.9372C20.3751 44.5831 18.2501 45.1664 16.6042 44.1872L13.0001 42.1247C11.1042 41.0414 10.4584 38.6039 11.5417 36.7289C13.4376 33.4581 11.8959 30.7914 8.12508 30.7914C5.93758 30.7914 4.16675 28.9997 4.16675 26.8331Z","stroke","#9F8A60","stroke-width","3","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],[1,"input_group"],["for","",1,"mb-2","block"],["inputId","minmax","mode","decimal",1,"custom_input",3,"ngModelChange","ngModel","min","max"],[1,"sing_alert","p-6","lg:col-span-4","md-col-span-6","col-span-12","bg-white_color","rounded-3xl"],[1,"head-container","mb-4"],[1,"head","mb-3","flex","items-center","justify-between"],[1,"title"],[1,"flex","text-xl","items-center","gap-3"],[1,"fi","fi-rr-camera"],[1,"text-danger_color",3,"click"],[1,"fi","text-xl","fi-rr-trash"],[1,"text-sm","font-medium"],[1,"text-danger_color"],[1,"detail_container","grid","grid-cols-9","mb-4","gap-6"],[1,"md:col-span-4","col-span-9","lg:col-span-3"],[1,"key_title","font-medium"],[1,"text-gold_color","font-normal"],[1,"text-danger_color","font-normal"],[1,"col-span-6"],[1,"text-gold_color","text-sm","font-normal"],[1,"flex","items-center","justify-center","gap-6"],[3,"click"],[1,"text-gold_color",3,"click"],["width","100%","height","10rem"],[1,"fi","fi-rr-triangle-warning"],[1,"fi","fi-rr-arrows-repeat"],[1,"fi","fi-rr-signal-alt-2"],[1,"fi","fi-sr-arrow-trend-down"],[1,"fi","fi-sr-arrow-trend-up"],[1,"fi","fi-ss-chart-pie-alt"],[1,"flex","justify-center"],[1,"action_btn","w-fit"],[3,"routerLink","label"],[1,"action_btn"],[3,"onClick","disabled","loading","label"],[3,"click","disabled","loading","label"]],template:function(d,n){if(d&1){let b=L();i(0,"section",2),x(1,Oe,2,0)(2,je,2,1),a(),c(3,"p-image",3,0),i(5,"p-dialog",4),D("visibleChange",function(m){return f(b),P(n.showAlertDetail,m)||(n.showAlertDetail=m),v(m)}),i(6,"div",5),V(),i(7,"svg",6),c(8,"path",7)(9,"path",8)(10,"path",9),a()(),H(),i(11,"div",10)(12,"div",11)(13,"h5",12),l(14),o(15,"translate"),a(),i(16,"button",13),E("click",function(){return f(b),v(n.showEditPopUp=!0)}),c(17,"i",14),l(18),o(19,"translate"),a()(),i(20,"div")(21,"div",15)(22,"h2",16),l(23),o(24,"translate"),a(),i(25,"ul",17)(26,"li",18),c(27,"i",19),i(28,"p"),l(29),o(30,"translate"),a()(),i(31,"li",18),c(32,"i",20),i(33,"p"),l(34),o(35,"translate"),a()(),i(36,"li",18),c(37,"i",21),i(38,"p"),l(39),o(40,"translate"),a()(),i(41,"li",18),c(42,"i",22),i(43,"p"),l(44),o(45,"translate"),a()()()(),i(46,"div",15)(47,"h2",16),l(48),o(49,"translate"),a(),i(50,"ul",17)(51,"li",18),c(52,"i",23),i(53,"p"),l(54),o(55,"translate"),o(56,"date"),a()(),i(57,"li",18),c(58,"i",23),i(59,"p"),l(60),o(61,"translate"),o(62,"date"),a()(),x(63,Ve,5,4,"li",18),a()(),i(64,"div",15)(65,"h2",16),l(66),o(67,"translate"),a(),i(68,"ul",17),x(69,He,5,4,"li",18)(70,Ne,5,4,"li",18)(71,Ue,5,4,"li",18)(72,ze,5,4,"li",18)(73,We,5,4,"li",18),a()()()(),x(74,Xe,4,7,"ng-template",24),a(),i(75,"p-dialog",25),D("visibleChange",function(m){return f(b),P(n.showDeletePopUp,m)||(n.showDeletePopUp=m),v(m)}),i(76,"div",5),V(),i(77,"svg",26),c(78,"path",27)(79,"path",28)(80,"path",29)(81,"path",30)(82,"path",31),a()(),H(),i(83,"div",32)(84,"h5",33),l(85),a(),i(86,"p",34),l(87),o(88,"translate"),a()(),i(89,"div",35)(90,"div",36)(91,"div",37),c(92,"input",38,1),o(94,"translate"),a()()(),x(95,Ge,4,5,"ng-template",24),a(),i(96,"p-dialog",25),D("visibleChange",function(m){return f(b),P(n.showEditPopUp,m)||(n.showEditPopUp=m),v(m)}),i(97,"div",5),V(),i(98,"svg",6),c(99,"path",39)(100,"path",40),a()(),H(),i(101,"div",32)(102,"h5",33),l(103),o(104,"translate"),o(105,"translate"),a()(),i(106,"div",35)(107,"div",36)(108,"div",41)(109,"label",42),l(110),o(111,"translate"),a(),i(112,"p-inputNumber",43,1),D("ngModelChange",function(m){return f(b),P(n.threshold,m)||(n.threshold=m),v(m)}),a()()()(),x(114,$e,4,5,"ng-template",24),a()}d&2&&(r(),w(1,n.alerts.length?1:2),r(2),h("previewImageSrc",n.selectedAlert==null?null:n.selectedAlert.imagepath)("preview",!0),r(2),N(y(97,Re)),R("visible",n.showAlertDetail),h("dismissableMask",!0)("modal",!0)("breakpoints",y(98,K))("draggable",!1)("resizable",!1),r(9),u(s(15,59,"ALERTS.DETAILS")),r(4),S(" ",s(19,61,"ALERTS.SET_THRESHOLD")," "),r(5),S(" ",s(24,63,"ALERTS.BASIC_INFORMATION")," "),r(6),g(" ",s(30,65,"ALERTS.TITLE"),": ",n.selected_alert_view==null?null:n.selected_alert_view.Title," "),r(5),g(" ",s(35,67,"ALERTS.STATUS"),": ",n.selected_alert_view==null?null:n.selected_alert_view.Status," "),r(5),g(" ",s(40,69,"ALERTS.DEVICE_TYPE"),": ",n.selected_alert_view==null?null:n.selected_alert_view.DeviceType," "),r(5),g(" ",s(45,71,"ALERTS.STREAM_ID"),": ",n.selected_alert_view==null?null:n.selected_alert_view.StreamId," "),r(4),u(s(49,73,"ALERTS.DATE_TIME_INFORMATION")),r(6),g(" ",s(55,75,"ALERTS.START_DATE_TIME"),": ",z(56,77,n.selected_alert_view==null?null:n.selected_alert_view.StartTimestamp,"dd MMM yy, hh:mm:ssa")," "),r(6),g(" ",s(61,80,"ALERTS.END_DATE_TIME"),": ",z(62,82,n.selected_alert_view==null?null:n.selected_alert_view.EndTimestamp,"dd MMM yy, hh:mm:ss a")," "),r(3),w(63,n.selected_alert_view!=null&&n.selected_alert_view.FormattedDate?63:-1),r(3),u(s(67,85,"ALERTS.PEOPLE_ANALYTICS")),r(3),w(69,n.selected_alert_view!=null&&n.selected_alert_view.PeopleCount?69:-1),r(),w(70,n.selected_alert_view!=null&&n.selected_alert_view.PeopleAvg?70:-1),r(),w(71,n.selected_alert_view!=null&&n.selected_alert_view.PeopleMin?71:-1),r(),w(72,n.selected_alert_view!=null&&n.selected_alert_view.PeopleMax?72:-1),r(),w(73,n.selected_alert_view!=null&&n.selected_alert_view.PeopleMax?73:-1),r(2),N(y(99,Ce)),R("visible",n.showDeletePopUp),h("dismissableMask",!0)("modal",!0)("breakpoints",y(100,K))("draggable",!1)("resizable",!1),r(10),u("ALERTS.DELETE_ALERT"),r(2),u(s(88,87,"ALERTS.DELETE_CONFIRM_MSG")),r(5),I("placeholder",s(94,89,"ALERTS.DELETE_PLACEHOLDER")),r(4),N(y(101,Ce)),R("visible",n.showEditPopUp),h("dismissableMask",!0)("modal",!0)("breakpoints",y(102,K))("draggable",!1)("resizable",!1),r(7),g("",s(104,91,"ALERTS.SET")," ",s(105,93,"ALERTS.THRESHOLD"),""),r(7),u(s(111,95,"ALERTS.NEW_THRESHOLD_VALUE")),r(2),R("ngModel",n.threshold),h("min",0)("max",5e4))},dependencies:[ce,me,G,_e,ue,de,be,ge,he,fe,W,ae],styles:[".sing_alert[_ngcontent-%COMP%]   .head-container[_ngcontent-%COMP%], .sing_alert[_ngcontent-%COMP%]   .detail_container[_ngcontent-%COMP%]{padding-bottom:1rem;border-bottom:2px dashed #E8E8E8}.card[_ngcontent-%COMP%]{background-color:#fff}.basic[_ngcontent-%COMP%]{padding-bottom:1rem;border-bottom:2px dashed #E8E8E8}.doted[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:50%;-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;-o-border-radius:50%}.doted.small_doted[_ngcontent-%COMP%]{width:15px;height:15px}.doted.small_doted.success[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(var(--success_color) / var(--tw-bg-opacity, 1));box-shadow:0 0 0 3px #b6fccd,0 0 0 5px #e4ffed}.doted.small_doted.danger[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(var(--danger_color) / var(--tw-bg-opacity, 1));box-shadow:0 0 0 3px #ffdada,0 0 0 5px #ffdfdf}.doted.success[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(var(--success_color) / var(--tw-bg-opacity, 1));box-shadow:0 0 0 6px #b6fccd,0 0 0 7px #e4ffed}.doted.danger[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(var(--danger_color) / var(--tw-bg-opacity, 1));box-shadow:0 0 0 6px #ffdada,0 0 0 7px #ffdfdf}  .devices_table .p-datatable-table{border-collapse:separate!important;border-spacing:0 1rem}  .devices_table .p-datatable .p-datatable-thead>tr>th{background-color:transparent;text-align:center;--tw-text-opacity: 1;color:rgb(var(--gold_color) / var(--tw-text-opacity, 1))}  .devices_table .p-datatable .p-datatable-tbody{background-color:transparent}  .devices_table .p-datatable .p-datatable-tbody>tr>td{--tw-bg-opacity: 1;background-color:rgb(var(--whiteColor) / var(--tw-bg-opacity, 1));text-align:center}  .devices_table .p-datatable .p-datatable-tbody>tr>td:first-child{border-top-left-radius:2.5rem;border-bottom-left-radius:2.5rem}  .devices_table .p-datatable .p-datatable-tbody>tr>td:last-child{border-top-right-radius:2.5rem;border-bottom-right-radius:2.5rem}  .devices_table .p-datatable .p-datatable-tbody>tr{border-radius:1.5rem;background-color:transparent}  .namespace_action.p-menu{border-radius:1rem;padding:.75rem}  .namespace_action.p-menu .p-submenu-header{display:none}  .namespace_action.p-menu .p-menuitem-icon{display:flex;align-items:center;justify-content:center}  .select_type_popup{position:relative}  .select_type_popup .p-dialog-header .p-dialog-header-icons{display:none}  .select_type_popup.user .icon_over_lay{top:-6%!important}  .select_type_popup .p-dialog-content .icon_over_lay{position:absolute;top:-12%;left:50%;transform:translate(-50%);width:80px;height:80px;--tw-bg-opacity: 1;background-color:rgb(var(--whiteColor) / var(--tw-bg-opacity, 1));border-radius:50%;-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;-o-border-radius:50%;-webkit-transform:translateX(-50%);-moz-transform:translateX(-50%);-ms-transform:translateX(-50%);-o-transform:translateX(-50%)}  .select_type_popup .p-dialog-content .single_type{width:180px;box-shadow:0 0 2px #00000040}.btn_view[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.btn_view[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{display:block}.icon_filter[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:50%;-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;-o-border-radius:50%}.icon_filter[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{width:20px;height:20px;position:absolute;top:-4px;right:-10px}"]})}}return t})();var Ye=(t,p)=>({rtl_dir:t,ltr_dir:p}),Ze=()=>({"min-width":"50rem"});function qe(t,p){if(t&1&&(i(0,"th",9),l(1),a()),t&2){let e=_().$implicit;r(),u(e.name)}}function Je(t,p){if(t&1&&x(0,qe,2,1,"th",9),t&2){let e=p.$implicit;w(0,(e==null?null:e.name)!="ImagePath"?0:-1)}}function Ke(t,p){if(t&1&&(i(0,"tr"),M(1,Je,1,1,null,null,T),a()),t&2){let e=_();r(),k(e.recentAlerts)}}function Qe(t,p){if(t&1&&(i(0,"td",11),l(1),a()),t&2){let e=_().$implicit;r(),u(e.value)}}function et(t,p){if(t&1&&x(0,Qe,2,1,"td",11),t&2){let e=p.$implicit;w(0,(e==null?null:e.name)!="ImagePath"?0:-1)}}function tt(t,p){if(t&1&&(i(0,"tr",10),M(1,et,1,1,null,null,T),a()),t&2){let e=_();r(),k(e.recentAlerts)}}function it(t,p){if(t&1&&(i(0,"tr")(1,"td"),c(2,"app-empty-state",12),a()()),t&2){let e=_();r(),ne("colspan",13),r(),h("loadingState",e.loadingState)}}var Ae=(()=>{class t{constructor(e,d,n,b,A){this._TranslationsService=e,this._MessageService=d,this._ActivatedRoute=n,this._AlertsService=b,this._SharedService=A,this.is_arabic=!1,this.per_page=20,this.loadingState=!0,this.recentAlerts=[],this.loadingAdd=!1,this.showEditPopUp=!1,this.threshold=0,this._SharedService.breadCrumbTitle.next("SIDEBAR.EMERGENCY"),this._TranslationsService.selected_lan_sub.subscribe(m=>{m=="ar"?this.is_arabic=!0:this.is_arabic=!1}),this._ActivatedRoute.paramMap.pipe(ee(m=>{this.curent_type=m.get("type"),this.current_id=m.get("id")}),Q(m=>this._AlertsService.getAlertDetails(m.get("id"),1,20))).subscribe(m=>{this.recentAlerts=m?.Data,this.loadingState=!1})}getAllRecents(){this.loadingState=!0,this._AlertsService.getAlertDetails(this.current_id,1,99).subscribe(e=>{this.recentAlerts=e?.Data,this.loadingState=!1})}addthershold(){this.loadingAdd=!0,this._AlertsService.addThreShold({peopleThreshold:this.threshold,deviceType:this.curent_type}).subscribe(e=>{this.loadingAdd=!1,this.showEditPopUp=!1,this._MessageService.add({severity:"success",summary:"Success",detail:"Threshold Added Successfully"}),this.getAllRecents()})}static{this.\u0275fac=function(d){return new(d||t)(C(pe),C(X),C(se),C(Z),C($))}}static{this.\u0275cmp=F({type:t,selectors:[["app-recents-alerts"]],decls:11,vars:14,consts:[[1,"devices_table",3,"ngClass"],[1,"table_head","m-2","flex","flex-wrap","items-center","justify-between"],[1,"flex","items-center","gap-3"],[1,"font-medium","mb-3","text-2xl"],[1,"flex","items-center","gap-4","flex-wrap","flex-row-reverse"],[3,"paginator","totalRecords","lazy","rows","tableStyle","value"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"capitalize"],[1,"rounded-full"],[1,"text-sm"],[3,"loadingState"]],template:function(d,n){d&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),l(4),o(5,"translate"),a()(),c(6,"div",4),a(),i(7,"p-table",5),x(8,Ke,3,0,"ng-template",6)(9,tt,3,0,"ng-template",7)(10,it,3,2,"ng-template",8),a()()),d&2&&(h("ngClass",U(10,Ye,n.is_arabic,!n.is_arabic)),r(4),S(" ",s(5,8,"ALERTS.RECENT_ALERTS")," "),r(3),h("paginator",!0)("totalRecords",n.recentAlerts.length)("lazy",!0)("rows",n.per_page)("tableStyle",y(13,Ze))("value",n.recentAlerts))},dependencies:[ve,G,xe,re,W],styles:[".card[_ngcontent-%COMP%]{background-color:#fff}.doted[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:50%;-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;-o-border-radius:50%}.doted.small_doted[_ngcontent-%COMP%]{width:15px;height:15px}.doted.small_doted.success[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(var(--success_color) / var(--tw-bg-opacity, 1));box-shadow:0 0 0 3px #b6fccd,0 0 0 5px #e4ffed}.doted.small_doted.danger[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(var(--danger_color) / var(--tw-bg-opacity, 1));box-shadow:0 0 0 3px #ffdada,0 0 0 5px #ffdfdf}.doted.success[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(var(--success_color) / var(--tw-bg-opacity, 1));box-shadow:0 0 0 6px #b6fccd,0 0 0 7px #e4ffed}.doted.danger[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(var(--danger_color) / var(--tw-bg-opacity, 1));box-shadow:0 0 0 6px #ffdada,0 0 0 7px #ffdfdf}  .devices_table .p-datatable-table{border-collapse:separate!important;border-spacing:0 1rem}  .devices_table .p-datatable .p-datatable-thead>tr>th{background-color:transparent;text-align:center;--tw-text-opacity: 1;color:rgb(var(--gold_color) / var(--tw-text-opacity, 1))}  .devices_table .p-datatable .p-datatable-tbody{background-color:transparent}  .devices_table .p-datatable .p-datatable-tbody>tr>td{--tw-bg-opacity: 1;background-color:rgb(var(--whiteColor) / var(--tw-bg-opacity, 1));text-align:center}  .devices_table.ltr_dir .p-datatable .p-datatable-tbody>tr>td:first-child{border-top-left-radius:2.5rem;border-bottom-left-radius:2.5rem}  .devices_table.ltr_dir .p-datatable .p-datatable-tbody>tr>td:last-child{border-top-right-radius:2.5rem;border-bottom-right-radius:2.5rem}  .devices_table.rtl_dir .p-datatable .p-datatable-tbody>tr>td:first-child{border-top-right-radius:2.5rem;border-bottom-right-radius:2.5rem}  .devices_table.rtl_dir .p-datatable .p-datatable-tbody>tr>td:last-child{border-top-left-radius:2.5rem;border-bottom-left-radius:2.5rem}  .devices_table .p-datatable .p-datatable-tbody>tr{border-radius:1.5rem;background-color:transparent}  .namespace_action.p-menu{border-radius:1rem;padding:.75rem}  .namespace_action.p-menu .p-submenu-header{display:none}  .namespace_action.p-menu .p-menuitem-icon{display:flex;align-items:center;justify-content:center}  .select_type_popup{position:relative}  .select_type_popup .p-dialog-header .p-dialog-header-icons{display:none}  .select_type_popup.user .icon_over_lay{top:-6%!important}  .select_type_popup .p-dialog-content .icon_over_lay{position:absolute;top:-12%;left:50%;transform:translate(-50%);width:80px;height:80px;--tw-bg-opacity: 1;background-color:rgb(var(--whiteColor) / var(--tw-bg-opacity, 1));border-radius:50%;-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;-o-border-radius:50%;-webkit-transform:translateX(-50%);-moz-transform:translateX(-50%);-ms-transform:translateX(-50%);-o-transform:translateX(-50%)}  .select_type_popup .p-dialog-content .single_type{width:180px;box-shadow:0 0 2px #00000040}.btn_view[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.btn_view[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{display:block}.icon_filter[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:50%;-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;-o-border-radius:50%}.icon_filter[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{width:20px;height:20px;position:absolute;top:-4px;right:-10px}"]})}}return t})();var nt=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:ye},{path:"recent/:id/:type",component:Ae}],Ee=(()=>{class t{static{this.\u0275fac=function(d){return new(d||t)}}static{this.\u0275mod=j({type:t})}static{this.\u0275inj=O({imports:[J.forChild(nt),J]})}}return t})();var Lt=(()=>{class t{static{this.\u0275fac=function(d){return new(d||t)}}static{this.\u0275mod=j({type:t})}static{this.\u0275inj=O({imports:[we,le,Ee]})}}return t})();export{Lt as AlertsModule};
