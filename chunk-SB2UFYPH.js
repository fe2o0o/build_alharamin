import{a as Fe,c as ht,d as Ct}from"./chunk-C5WND45I.js";import{$ as _,A as E,Aa as He,Ab as ke,B,Bb as me,C as le,Ca as Y,Cb as ue,Db as he,Eb as st,Fa as We,Ga as nt,Gb as dt,H as je,Hb as ne,J as n,Ja as at,K as y,Lb as ae,Ob as re,P as S,Pb as Ce,Q as De,R as f,Rb as ct,S as xe,Sb as pt,T as M,Tb as mt,U as w,Ub as ge,V as we,Vb as Me,W as j,Wb as Te,X as R,Xb as ut,Y as L,Z as l,_ as r,a as et,aa as I,ab as de,ba as A,ca as v,cb as Ae,fa as Z,fb as ze,ga as H,gb as $,ha as W,hb as ee,ia as z,ja as it,jb as Ie,ka as p,kb as ye,la as g,lb as te,m as oe,ma as k,mb as U,o as se,oa as T,pa as F,pb as N,q as tt,qa as O,r as be,rb as rt,sb as lt,t as Ee,ta as P,tb as ot,ua as V,ub as J,v as K,va as Q,vb as ie,w as Se,wa as q,wb as ce,xb as pe,ya as m,z as b,za as u,zb as G}from"./chunk-HSDGEO3H.js";var X=(()=>{class i{constructor(e){this._HttpClient=e}getImage(e){return this._HttpClient.get(N.app_api_url+`SingleSensorCamera/latest-image/${e}`)}getDashboardData(e=1,a=20){let t="?";return t+=`PageNumber=${e}&PageSize=${a}`,this._HttpClient.get(N.app_api_url+"DeviceSummariesUnified/GetAllDeviceSummaries"+t)}getDeviceDetails(e){return this._HttpClient.get(N.app_api_url+`LoraWan/GetWatchById/${e}`)}getDeviceNewDetails(e,a,t=1,s=10){return this._HttpClient.get(N.app_api_url+`DeviceSummariesUnified/DeviceDetails?identifier=${e}&type=${a}&PageNumber=${t}&PageSize=${s}`)}getDeviceFilterBySection(e,a,t,s){let c="?";return e&&(c=="?"?c+=`startDate=${e}`:c+=`&startDate=${e}`),a&&(c=="?"?c+=`endDate=${a}`:c+=`&endDate=${a}`),t&&(c=="?"?c+=`section=${t}`:c+=`&section=${t}`),this._HttpClient.get(N.app_api_url+`LoraWan/GetWatchById/${s}`+c)}editDevice(e,a,t){return this._HttpClient.put(N.app_api_url+`DeviceSummariesUnified/UpdatedeviceName?deviceId=${e}&connectionType=${t}`,{deviceName:a})}addLocation(e,a,t,s){return this._HttpClient.post(N.app_api_url+`lorawan/vs350/upsert-location?type=${a}&identifair=${e}`,{lang:t,lat:s})}getDeviceChart(e,a,t,s,c=!0,h=!0,x=!0,D=!0){let o="?";return a&&(o[o.length-1]=="?"?o+=`period=${a}`:o+=`&period=${a}`),t&&(o[o.length-1]=="?"?o+=`fromUtc=${t}`:o+=`&fromUtc=${t}`),s&&(o[o.length-1]=="?"?o+=`toUtc=${s}`:o+=`&toUtc=${s}`),o[o.length-1]=="?"?o+=`filterAccumulatedIn=${c}`:o+=`&filterAccumulatedIn=${c}`,o[o.length-1]=="?"?o+=`filterAccumulatedOut=${h}`:o+=`&filterAccumulatedOut=${h}`,o[o.length-1]=="?"?o+=`filterPeriodIn=${x}`:o+=`&filterPeriodIn=${x}`,o[o.length-1]=="?"?o+=`filterPeriodOut=${D}`:o+=`&filterPeriodOut=${D}`,this._HttpClient.get(N.app_api_url+`lorawan/vs350/ChartLoraWanVs350/${e}`+o)}getPeopleCounterChart(e,a,t,s,c=!0,h=!0,x=!0,D=!0){let o="?";return o+=`deviceName=${e}`,a&&(o[o.length-1]=="?"?o+=`period=${a}`:o+=`&period=${a}`),t&&(o[o.length-1]=="?"?o+=`fromUtc=${t}`:o+=`&fromUtc=${t}`),s&&(o[o.length-1]=="?"?o+=`toUtc=${s}`:o+=`&toUtc=${s}`),o[o.length-1]=="?"?o+=`filterAccumulatedIn=${c}`:o+=`&filterAccumulatedIn=${c}`,o[o.length-1]=="?"?o+=`filterAccumulatedOut=${h}`:o+=`&filterAccumulatedOut=${h}`,o[o.length-1]=="?"?o+=`filterPeriodIn=${x}`:o+=`&filterPeriodIn=${x}`,o[o.length-1]=="?"?o+=`filterPeriodOut=${D}`:o+=`&filterPeriodOut=${D}`,this._HttpClient.get(N.app_api_url+"lorawan/vs133/ChartVs133"+o)}getWatchChart(e,a,t,s,c=!0,h=!1,x=!1,D=!1){let o="?";return o+=`deviceName=${e}`,a&&(o[o.length-1]=="?"?o+=`period=${a}`:o+=`&period=${a}`),t&&(o[o.length-1]=="?"?o+=`fromUtc=${t}`:o+=`&fromUtc=${t}`),s&&(o[o.length-1]=="?"?o+=`toUtc=${s}`:o+=`&toUtc=${s}`),o[o.length-1]=="?"?o+=`filterHeartRateAndOxygen=${c}`:o+=`&filterHeartRateAndOxygen=${c}`,o[o.length-1]=="?"?o+=`filterBloodPressure=${h}`:o+=`&filterBloodPressure=${h}`,o[o.length-1]=="?"?o+=`filterTemperature=${x}`:o+=`&filterTemperature=${x}`,o[o.length-1]=="?"?o+=`filterStepsTrend=${D}`:o+=`&filterStepsTrend=${D}`,this._HttpClient.get(N.app_api_url+"lorawan/sw200/GetChartsw200"+o)}getWatchWBBChart(e,a,t,s,c=!0,h=!1,x=!1,D=!1){let o="?";return o+=`deviceName=${e}`,a&&(o[o.length-1]=="?"?o+=`period=${a}`:o+=`&period=${a}`),t&&(o[o.length-1]=="?"?o+=`fromUtc=${t}`:o+=`&fromUtc=${t}`),s&&(o[o.length-1]=="?"?o+=`toUtc=${s}`:o+=`&toUtc=${s}`),o[o.length-1]=="?"?o+=`filterHeartAndTemp=${c}`:o+=`&filterHeartAndTemp=${c}`,o[o.length-1]=="?"?o+=`filterTempCompare=${h}`:o+=`&filterTempCompare=${h}`,o[o.length-1]=="?"?o+=`filterSteps=${x}`:o+=`&filterSteps=${x}`,o[o.length-1]=="?"?o+=`filterBloodPressure=${D}`:o+=`&filterBloodPressure=${D}`,this._HttpClient.get(N.app_api_url+"lorawan/b2315l/GetChartDatab2315l"+o)}getWatchLWChart(e,a,t,s,c=!0,h=!1,x=!1,D=!1,o=!1){let C="?";return C+=`deviceName=${e}`,a&&(C[C.length-1]=="?"?C+=`period=${a}`:C+=`&period=${a}`),t&&(C[C.length-1]=="?"?C+=`fromUtc=${t}`:C+=`&fromUtc=${t}`),s&&(C[C.length-1]=="?"?C+=`toUtc=${s}`:C+=`&toUtc=${s}`),C[C.length-1]=="?"?C+=`filterHeartRate=${c}`:C+=`&filterHeartRate=${c}`,C[C.length-1]=="?"?C+=`filterSteps=${h}`:C+=`&filterSteps=${h}`,C[C.length-1]=="?"?C+=`filterTemperature=${x}`:C+=`&filterTemperature=${x}`,C[C.length-1]=="?"?C+=`filterDistance=${D}`:C+=`&filterDistance=${D}`,C[C.length-1]=="?"?C+=`filterCalorie=${o}`:C+=`&filterCalorie=${o}`,this._HttpClient.get(N.app_api_url+"LoraWan/GetWatchChartData"+C)}getPipChart(e,a,t,s,c=!0,h=!0,x=!0,D=!0,o=!1){let C="?";return C+=`deviceId=${e}`,C[C.length-1]=="?"?C+=`filterTemperature=${c}`:C+=`&filterTemperature=${c}`,C[C.length-1]=="?"?C+=`filterTiltAngle=${h}`:C+=`&filterTiltAngle=${h}`,C[C.length-1]=="?"?C+=`filterDistance=${D}`:C+=`&filterDistance=${D}`,C[C.length-1]=="?"?C+=`filterBatteryVoltage=${x}`:C+=`&filterBatteryVoltage=${x}`,C[C.length-1]=="?"?C+=`filterBatteryPercentage=${o}`:C+=`&filterBatteryPercentage=${o}`,a&&(C[C.length-1]=="?"?C+=`period=${a}`:C+=`&period=${a}`),t&&(C[C.length-1]=="?"?C+=`fromUtc=${t}`:C+=`&fromUtc=${t}`),s&&(C[C.length-1]=="?"?C+=`toUtc=${s}`:C+=`&toUtc=${s}`),this._HttpClient.get(N.app_api_url+"SigFoxPip/ChartSigfox"+C)}static{this.\u0275fac=function(a){return new(a||i)(Ee(at))}}static{this.\u0275prov=tt({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var At=(i,d)=>({rtl_dir:i,ltr_dir:d}),It=(i,d,e)=>({"bg-gold_color":i,"text-white_color":d,"bg-white_color":e}),yt=()=>({"min-width":"50rem"}),gt=()=>({width:"40vw"}),Ue=()=>({"1199px":"50vw","575px":"90vw"}),kt=()=>({width:"35vw"}),Mt=(i,d)=>({"text-success_color":i,"text-danger_color":d});function Tt(i,d){i&1&&_(0,"p-skeleton",6)}function Ft(i,d){if(i&1&&(l(0,"p",73),p(1),r()),i&2){let e=v();n(),g(e.allData==null?null:e.allData.totalDevices)}}function Ot(i,d){i&1&&_(0,"p-skeleton",6)}function Pt(i,d){if(i&1&&(l(0,"p",73),p(1),r()),i&2){let e=v();n(),g(e.allData==null?null:e.allData.onlineDevices)}}function Vt(i,d){i&1&&_(0,"p-skeleton",6)}function Bt(i,d){if(i&1&&(l(0,"p",73),p(1),r()),i&2){let e=v();n(),g(e.allData==null?null:e.allData.offlineDevices)}}function Rt(i,d){if(i&1&&(l(0,"div",27),p(1),r()),i&2){let e=v();n(),k(" ",e.filterCount,"")}}function Lt(i,d){i&1&&(l(0,"tr")(1,"th"),p(2),m(3,"translate"),r(),l(4,"th"),p(5),m(6,"translate"),r(),l(7,"th"),p(8),m(9,"translate"),r(),l(10,"th"),p(11),m(12,"translate"),r(),l(13,"th"),p(14),m(15,"translate"),r(),l(16,"th"),p(17),m(18,"translate"),r(),l(19,"th"),p(20),m(21,"translate"),r(),l(22,"th"),p(23),m(24,"translate"),r()()),i&2&&(n(2),g(u(3,8,"DEVICES.DEVICE_NAME_LABEL")),n(3),g(u(6,10,"DEVICES.DEVICE_TYPE_LABEL")),n(3),g(u(9,12,"DEVICES.DEVICE_ID")),n(3),g(u(12,14,"DEVICES.DEVICE_TYPE")),n(3),g(u(15,16,"DEVICES.BATTERY")),n(3),g(u(18,18,"DEVICES.DEVICE_STATUS_LABEL")),n(3),g(u(21,20,"DEVICES.LAST_SEEN")),n(3),g(u(24,22,"DEVICES.ACTIONS")))}function Qt(i,d){if(i&1&&(l(0,"div",83)(1,"span",75),p(2),r(),B(),l(3,"svg",84),_(4,"path",85)(5,"path",86)(6,"path",87)(7,"path",88),r()()),i&2){let e=v(2).$implicit;n(2),k("",e==null?null:e.battery,"%")}}function Nt(i,d){if(i&1&&(l(0,"div",89)(1,"span",75),p(2),r(),B(),l(3,"svg",84),_(4,"path",90)(5,"path",91)(6,"path",92)(7,"path",93),r()()),i&2){let e=v(2).$implicit;n(2),k("",e==null?null:e.battery,"%")}}function jt(i,d){if(i&1&&(l(0,"div",94)(1,"span",75),p(2),r(),_(3,"i",95),r()),i&2){let e=v(2).$implicit;n(2),k("",e==null?null:e.battery,"%")}}function Ht(i,d){if(i&1&&S(0,Qt,8,1,"div",83)(1,Nt,8,1)(2,jt,4,1),i&2){let e=v().$implicit;w(0,(e==null?null:e.battery)>=50?0:(e==null?null:e.battery)<50&&(e==null?null:e.battery)>=20?1:2)}}function Wt(i,d){i&1&&(p(0),m(1,"translate")),i&2&&k(" ",u(1,1,"DEVICES.NA")," ")}function zt(i,d){if(i&1){let e=I();l(0,"tr",74),m(1,"translate"),A("dblclick",function(){let t=b(e).$implicit,s=v();return E(s.handleNavigateToDetails(t))}),l(2,"td",75),p(3),r(),l(4,"td")(5,"p",75),p(6),r()(),l(7,"td",75),p(8),r(),l(9,"td",76),p(10),r(),l(11,"td"),S(12,Ht,3,1)(13,Wt,2,3),r(),l(14,"td")(15,"span",77),p(16),m(17,"translate"),m(18,"translate"),r()(),l(19,"td",75),p(20),r(),l(21,"td",78),A("click",function(t){let s=b(e).$implicit,c=v();return it(60).toggle(t),E(c.selected_device=s)}),B(),l(22,"svg",79),_(23,"path",80)(24,"path",81)(25,"path",82),r()()()}if(i&2){let e=d.$implicit;Z("pTooltip",u(1,9,"DEVICES.DOUBLE_CLICK_TOOLTIP")),n(3),k(" ",e==null?null:e.deviceName," "),n(3),g(e==null?null:e.type),n(2),k(" ",e==null?null:e.identifier," "),n(2),k(" ",e==null?null:e.connectionType," "),n(2),w(12,(e==null?null:e.battery)!=0&&(e!=null&&e.battery)?12:13),n(3),f("ngClass",Q(15,Mt,e==null?null:e.isOnline,!(e!=null&&e.isOnline))),n(),k(" ",e!=null&&e.isOnline?u(17,11,"DEVICES.ONLINE"):u(18,13,"DEVICES.OFFLINE")," "),n(4),k(" ",e==null?null:e.lastSeen," ")}}function Ut(i,d){if(i&1&&(l(0,"tr")(1,"td"),_(2,"app-empty-state",96),r()()),i&2){let e=v();n(),De("colspan",8),n(),f("loadingState",e.loadingState)}}function Jt(i,d){if(i&1){let e=I();l(0,"div",97)(1,"div",98)(2,"p-button",99),m(3,"translate"),A("click",function(){b(e);let t=v();return E(t.handleEditDevice())}),r()()()}if(i&2){let e=v();n(2),f("disabled",!e.editName.length)("loading",e.loadingEdit)("label",u(3,3,"DEVICES.SAVE"))}}function Gt(i,d){if(i&1){let e=I();l(0,"div",97)(1,"div",98)(2,"p-button",99),m(3,"translate"),A("click",function(){b(e);let t=v();return E(t.handleFilterList())}),r()()()}if(i&2){let e=v();n(2),f("disabled",!e.filterObj.status&&!e.filterObj.type)("loading",e.loadingEdit)("label",u(3,3,"DEVICES.APPLY_FILTER"))}}function qt(i,d){i&1&&(l(0,"div",97)(1,"div",98),_(2,"p-button",100),m(3,"translate"),r()()),i&2&&(n(2),f("label",u(3,1,"DEVICES.DELETE")))}var ft=(()=>{class i{constructor(e,a,t,s,c,h){this._TranslateService=e,this._TranslationsService=a,this._SharedService=t,this._MessageService=s,this._DahsboardService=c,this._Router=h,this.is_arabic=!1,this.status=[{id:1,name:"Online"},{id:2,name:"Offline"}],this.types=[{id:1,name:"LoRawan"},{id:2,name:"SigFox"}],this.filterObj={status:null,type:null},this.loadingState=!1,this.showFilter=!1,this.searchTerm="",this.devicesList=[],this.per_page=15,this.current_page=1,this.filterCount=0,this.items=[{items:[{label:this._TranslateService.instant("DEVICES.EDIT"),icon:"fi fi-rr-edit",command:()=>{this.showEditPopUp=!0}},{label:this._TranslateService.instant("DEVICES.VIEW"),icon:"fi fi-rr-eye",command:()=>{this._Router.navigate(["/alharamain-app/dashboard/devices",this.selected_device?.identifier,this.selected_device?.type])}},{label:this._TranslateService.instant("DEVICES.DELETE"),icon:"fi fi-rr-trash",command:()=>{this.showDeletePopUp=!0}}]}],this.loadingEdit=!1,this.editName="",this.showEditPopUp=!1,this.showDeletePopUp=!1,this.devicesListTemp=[],this._SharedService.breadCrumbTitle.next("BREADCRUMB.DEVICE_MANAGEMENT"),this._TranslationsService.selected_lan_sub.subscribe(x=>{x=="ar"?this.is_arabic=!0:this.is_arabic=!1})}ngOnInit(){this.getDashboardData()}handleSearch(){this.searchTerm.length>0?this.devicesListTemp=this.devicesList.filter(e=>e?.deviceName?.toLocaleLowerCase()?.includes(this.searchTerm.toLocaleLowerCase())):this.devicesListTemp=this.devicesList}handleFilterList(){this.filterCount=0;let e=[];this.filterObj.type!=null&&(this.filterCount++,e=this.devicesList.filter(a=>this.filterObj.type=="SigFox"?a.connectionType=="Sigfox":a.connectionType!="Sigfox")),this.filterObj.status!=null&&(this.filterCount++,e.length?this.devicesListTemp=e.filter(a=>this.filterObj.status=="Online"?a.isOnline:a.isOnline==!1):this.devicesListTemp=this.devicesList.filter(a=>this.filterObj.status=="Online"?a.isOnline:a.isOnline==!1)),!this.filterObj.status&&!this.filterObj.type&&(this.devicesListTemp=[...this.devicesList]),this.showFilter=!1}handleNavigateToDetails(e){this._Router.navigate(["/alharamain-app/dashboard/devices",e?.identifier,e?.type])}handleEditDevice(){this.loadingEdit=!0,this._DahsboardService.editDevice(this.selected_device?.identifier,this.editName,this.selected_device?.connectionType).subscribe({next:e=>{this.loadingEdit=!1,this._MessageService.add({severity:"success",summary:"Success",detail:"Device Name Edited Siccessfully!"}),this.showEditPopUp=!1,this.getDashboardData()},error:e=>{this.loadingEdit=!1,this.showEditPopUp=!1}})}routeToDetails(e){this._Router.navigate(["/alharamain-app/dashboard/device",e?.id])}getDashboardData(){this.loadingState=!0,this.devicesList=[],this.devicesListTemp=[],this._DahsboardService.getDashboardData().subscribe({next:e=>{this.allData=e?.data,this.devicesList=e?.data?.items,this.devicesListTemp=this.devicesList,this.loadingState=!1}})}onPageChange(e){let a=e?.first/e?.rows+1;e?.rows==this.per_page?this.current_page=a:this.current_page=1,this.per_page=e?.rows,this.loadingState=!0,this.devicesList=[],this._DahsboardService.getDashboardData(this.current_page,e?.rows).subscribe({next:t=>{this.allData=t?.data,this.devicesList=t?.data?.items,this.devicesListTemp=this.devicesList,this.current_page=t?.data?.currentPage,this.per_page=t?.data?.pageSize,this.loadingState=!1}})}static{this.\u0275fac=function(a){return new(a||i)(y($),y(Ie),y(U),y(ye),y(X),y(Ae))}}static{this.\u0275cmp=K({type:i,selectors:[["app-devices-dashboard"]],decls:132,vars:112,consts:[["menu",""],["confirm_input",""],[1,"cards","grid","grid-cols-12","gap-5","mb-20"],[1,"card","col-span-12","md:col-span-5","lg:col-span-4","flex","items-center","justify-between","shadow-md","rounded-3xl","p-4","px-6","gap-2"],[1,"content"],[1,"mb-4","text-lg","font-medium"],["width","100%","styleClass","mb-2"],[1,"icon"],["width","35","height","35","viewBox","0 0 35 35","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M24.8061 18.5646C25.668 18.5646 26.3665 17.8661 26.3665 17.0042C26.3665 16.1424 25.668 15.4439 24.8061 15.4439C23.9444 15.4439 23.2457 16.1424 23.2457 17.0042C23.2457 17.8661 23.9444 18.5646 24.8061 18.5646Z","stroke","#9F8A60","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M29.1667 8.74999V11.3604C28.8021 11.3166 28.3792 11.2875 27.9271 11.2875H21.6854C18.5646 11.2875 17.5292 12.3229 17.5292 15.4437V22.8958H8.75001C4.08334 22.8958 2.91667 21.7292 2.91667 17.0625V8.74999C2.91667 4.08332 4.08334 2.91666 8.75001 2.91666H23.3333C28 2.91666 29.1667 4.08332 29.1667 8.74999Z","stroke","#9F8A60","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M13.125 22.8958V29.1665","stroke","#9F8A60","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M2.91667 17.3542H17.5","stroke","#9F8A60","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M8.67702 29.1667H17.4999","stroke","#9F8A60","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M24.8061 18.5646C25.668 18.5646 26.3665 17.8661 26.3665 17.0042C26.3665 16.1424 25.668 15.4439 24.8061 15.4439C23.9444 15.4439 23.2457 16.1424 23.2457 17.0042C23.2457 17.8661 23.9444 18.5646 24.8061 18.5646Z","stroke","#9F8A60","stroke-width","1.5","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],["d","M29.1667 11.3604C28.8021 11.3166 28.3792 11.2875 27.9271 11.2875H21.6854C18.5646 11.2875 17.5292 12.323 17.5292 15.4437V27.9271C17.5292 31.0479 18.5646 32.0833 21.6854 32.0833H27.9271C31.0479 32.0833 32.0833 31.0479 32.0833 27.9271V15.4437C32.0833 12.775 31.325 11.6375 29.1667 11.3604ZM24.8063 15.4437C25.6667 15.4437 26.3667 16.1437 26.3667 17.0042C26.3667 17.8646 25.6667 18.5646 24.8063 18.5646C23.9458 18.5646 23.2458 17.8646 23.2458 17.0042C23.2458 16.1437 23.9458 15.4437 24.8063 15.4437ZM24.8063 27.9271C23.0854 27.9271 21.6854 26.5271 21.6854 24.8062C21.6854 24.0917 21.9333 23.4208 22.3417 22.8958C22.9104 22.1667 23.8 21.6854 24.8063 21.6854C25.5938 21.6854 26.3083 21.9771 26.8479 22.4437C27.5042 23.0271 27.9271 23.8729 27.9271 24.8062C27.9271 26.5271 26.5271 27.9271 24.8063 27.9271Z","stroke","#9F8A60","stroke-width","1.5","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],["d","M27.9272 24.8063C27.9272 26.5271 26.5272 27.9271 24.8064 27.9271C23.0856 27.9271 21.6856 26.5271 21.6856 24.8063C21.6856 24.0917 21.9335 23.4208 22.3418 22.8958C22.9106 22.1667 23.8001 21.6854 24.8064 21.6854C25.5939 21.6854 26.3085 21.9771 26.8481 22.4438C27.5043 23.0271 27.9272 23.8729 27.9272 24.8063Z","stroke","#9F8A60","stroke-width","1.5","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],[1,"mb-4","text-lg","text-success_color","font-medium"],[1,"doted","success"],[1,"mb-4","text-lg","text-danger_color","font-medium"],[1,"doted","danger"],[1,"devices_table",3,"ngClass"],[1,"table_head","m-2","flex","flex-wrap","items-center","justify-between"],[1,"font-medium","mb-3","text-2xl"],[1,"text-gold_color"],[1,"flex","items-center","gap-4","flex-wrap","flex-row-reverse"],[1,"icon_filter","relative","cursor-pointer","shadow","p-4",3,"click","ngClass"],[1,"count","p-3","shadow","rounded-full","bg-white_color","text-black_color","flex","items-center","justify-center"],[1,"fi","fi-rr-settings-sliders","text-xl"],[1,"adon-input","relative","w-80"],["pInputText","",3,"input","ngModelChange","ngModel","placeholder"],[1,"fi","fi-rr-search","text-xl","flex","items-center","justify-center","text-gray_light"],[3,"onLazyLoad","paginator","totalRecords","lazy","rows","tableStyle","value"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["appendTo","body","styleClass","namespace_action",3,"model","popup"],["header","","styleClass","select_type_popup",3,"visibleChange","visible","dismissableMask","modal","breakpoints","draggable","resizable"],[1,"icon_over_lay","flex","items-center","round","justify-center"],["width","40","height","40","viewBox","0 0 40 40","fill","none","xmlns","http://www.w3.org/2000/svg"],["width","40","height","40","fill","white"],["d","M22.1 5.99994L8.41658 20.4833C7.89992 21.0333 7.39992 22.1167 7.29992 22.8667L6.68325 28.2667C6.46658 30.2167 7.86658 31.55 9.79992 31.2167L15.1666 30.3C15.9166 30.1667 16.9666 29.6167 17.4833 29.05L31.1666 14.5666C33.5333 12.0666 34.6 9.21661 30.9166 5.73328C27.25 2.28328 24.4666 3.49994 22.1 5.99994Z","stroke","#9F8A60","stroke-width","2","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],["d","M19.8169 8.41675C20.5336 13.0167 24.2669 16.5334 28.9002 17","stroke","#9F8A60","stroke-width","2","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],["d","M5 36.6667H35","stroke","#9F8A60","stroke-width","2","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],[1,"text-center","mb-8"],[1,"text-2xl","text-gold_color","font-medium"],[1,"devices_types__container"],[1,"form-group","mb-5"],[1,"input_group"],["id","name","pInputText","",1,"custom_input",3,"ngModelChange","ngModel","value","placeholder"],["pTemplate","footer"],["header","","styleClass","select_type_popup",3,"onHide","visibleChange","visible","dismissableMask","modal","breakpoints","draggable","resizable"],["width","40","height","40","viewBox","0 0 50 50","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M45.8333 13.5417H33.3333","stroke","#9F8A60","stroke-width","3","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],["d","M12.5 13.5417H4.16669","stroke","#9F8A60","stroke-width","3","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],["d","M20.8334 20.8333C24.8604 20.8333 28.125 17.5688 28.125 13.5417C28.125 9.51458 24.8604 6.25 20.8334 6.25C16.8063 6.25 13.5417 9.51458 13.5417 13.5417C13.5417 17.5688 16.8063 20.8333 20.8334 20.8333Z","stroke","#9F8A60","stroke-width","3","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],["d","M45.8333 36.4583H37.5","stroke","#9F8A60","stroke-width","3","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],["d","M16.6667 36.4583H4.16669","stroke","#9F8A60","stroke-width","3","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],["d","M29.1667 43.75C33.1938 43.75 36.4583 40.4854 36.4583 36.4583C36.4583 32.4312 33.1938 29.1667 29.1667 29.1667C25.1396 29.1667 21.875 32.4312 21.875 36.4583C21.875 40.4854 25.1396 43.75 29.1667 43.75Z","stroke","#9F8A60","stroke-width","3","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],[1,"text-center","mb-8","flex","justify-center"],[1,"text-2xl","flex","items-center","gap-4","text-gold_color","font-medium"],[1,"devices_types__container","py-8"],[1,"custom_input","mb-6"],["for","",1,"mb-2","block"],["appendTo","body","optionValue","name","optionLabel","name",3,"ngModelChange","options","ngModel","showClear","placeholder"],["d","M35 9.96663C29.45 9.41663 23.8667 9.1333 18.3 9.1333C15 9.1333 11.7 9.29997 8.4 9.6333L5 9.96663","stroke","#9F8A60","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M14.1665 8.28333L14.5332 6.1C14.7998 4.51666 14.9998 3.33333 17.8165 3.33333H22.1832C24.9998 3.33333 25.2165 4.58333 25.4665 6.11666L25.8332 8.28333","stroke","#9F8A60","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M31.4168 15.2334L30.3335 32.0167C30.1501 34.6333 30.0001 36.6667 25.3501 36.6667H14.6502C10.0002 36.6667 9.85016 34.6333 9.66683 32.0167L8.5835 15.2334","stroke","#9F8A60","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M17.2168 27.5H22.7668","stroke","#9F8A60","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M15.8335 20.8333H24.1668","stroke","#9F8A60","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"text-gold_color/50"],[1,"custom_input"],["id","name","pInputText","",1,"custom_input",3,"placeholder"],[1,"text-xl","font-semibold"],["tooltipPosition","top",1,"rounded-full","cursor-pointer",3,"dblclick","pTooltip"],[1,"text-sm"],[1,""],[3,"ngClass"],[1,"cursor-pointer",3,"click"],["width","25","height","25","viewBox","0 0 25 25","fill","none","xmlns","http://www.w3.org/2000/svg",1,"mx-auto"],["d","M5.20833 10.4167C4.0625 10.4167 3.125 11.3542 3.125 12.5C3.125 13.6458 4.0625 14.5833 5.20833 14.5833C6.35417 14.5833 7.29167 13.6458 7.29167 12.5C7.29167 11.3542 6.35417 10.4167 5.20833 10.4167Z","stroke","#1A232D","stroke-width","1.5"],["d","M19.7917 10.4167C18.6459 10.4167 17.7084 11.3542 17.7084 12.5C17.7084 13.6458 18.6459 14.5833 19.7917 14.5833C20.9375 14.5833 21.875 13.6458 21.875 12.5C21.875 11.3542 20.9375 10.4167 19.7917 10.4167Z","stroke","#1A232D","stroke-width","1.5"],["d","M12.5 10.4167C11.3541 10.4167 10.4166 11.3542 10.4166 12.5C10.4166 13.6458 11.3541 14.5833 12.5 14.5833C13.6458 14.5833 14.5833 13.6458 14.5833 12.5C14.5833 11.3542 13.6458 10.4167 12.5 10.4167Z","stroke","#1A232D","stroke-width","1.5"],[1,"flex","justify-center","gap-2","flex-row-reverse","items-center","text-success_color"],["width","20","height","20","viewBox","0 0 20 20","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M17.0833 7.91667C18.3333 7.91667 18.3333 8.33333 18.3333 9.16667V10.8333C18.3333 11.6667 18.3333 12.0833 17.0833 12.0833","stroke","#14AB46","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M5.31665 8.33333C5.59165 9.425 5.59165 10.575 5.31665 11.6667","stroke","#14AB46","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M8.2334 8.33333C8.5084 9.425 8.5084 10.575 8.2334 11.6667","stroke","#14AB46","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M10.8334 15.8333H5.83341C2.50008 15.8333 1.66675 15 1.66675 11.6667V8.33333C1.66675 5 2.50008 4.16667 5.83341 4.16667H10.8334C14.1667 4.16667 15.0001 5 15.0001 8.33333V11.6667C15.0001 15 14.1667 15.8333 10.8334 15.8333Z","stroke","#14AB46","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],[1,"flex","justify-center","gap-2","flex-row-reverse","items-center","text-warning_color"],["d","M17.0833 7.91666C18.3333 7.91666 18.3333 8.33333 18.3333 9.16666V10.8333C18.3333 11.6667 18.3333 12.0833 17.0833 12.0833","stroke","#FF9500","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M5.31665 8.33334C5.59165 9.425 5.59165 10.575 5.31665 11.6667","stroke","#FF9500","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M8.2334 8.33334C8.5084 9.425 8.5084 10.575 8.2334 11.6667","stroke","#FF9500","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M10.8334 15.8333H5.83341C2.50008 15.8333 1.66675 15 1.66675 11.6667V8.33333C1.66675 5 2.50008 4.16666 5.83341 4.16666H10.8334C14.1667 4.16666 15.0001 5 15.0001 8.33333V11.6667C15.0001 15 14.1667 15.8333 10.8334 15.8333Z","stroke","#FF9500","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],[1,"flex","justify-center","gap-2","flex-row-reverse","items-center"],[1,"fi","fi-rr-battery-bolt"],[3,"loadingState"],[1,"flex","justify-center"],[1,"action_btn"],[3,"click","disabled","loading","label"],[3,"label"]],template:function(a,t){if(a&1){let s=I();l(0,"section")(1,"div",2)(2,"div",3)(3,"div",4)(4,"h2",5),p(5),m(6,"translate"),r(),S(7,Tt,1,0,"p-skeleton",6)(8,Ft,2,1),r(),l(9,"div",7),B(),l(10,"svg",8),_(11,"path",9)(12,"path",10)(13,"path",11)(14,"path",12)(15,"path",13)(16,"path",14)(17,"path",15)(18,"path",16)(19,"path",14),r()()(),le(),l(20,"div",3)(21,"div",4)(22,"h2",17),p(23),m(24,"translate"),r(),S(25,Ot,1,0,"p-skeleton",6)(26,Pt,2,1),r(),l(27,"div",7),_(28,"div",18),r()(),l(29,"div",3)(30,"div",4)(31,"h2",19),p(32),m(33,"translate"),r(),S(34,Vt,1,0,"p-skeleton",6)(35,Bt,2,1),r(),l(36,"div",7),_(37,"div",20),r()()(),l(38,"div",21)(39,"div",22)(40,"div")(41,"h2",23),p(42),m(43,"translate"),r(),l(44,"p",24),p(45),m(46,"translate"),r()(),l(47,"div",25)(48,"div",26),A("click",function(){return b(s),E(t.showFilter=!0)}),S(49,Rt,2,1,"div",27),_(50,"i",28),r(),l(51,"div",29)(52,"input",30),m(53,"translate"),A("input",function(){return b(s),E(t.handleSearch())}),O("ngModelChange",function(h){return b(s),F(t.searchTerm,h)||(t.searchTerm=h),E(h)}),r(),_(54,"i",31),r()()(),l(55,"p-table",32),A("onLazyLoad",function(h){return b(s),E(t.onPageChange(h))}),S(56,Lt,25,24,"ng-template",33)(57,zt,26,18,"ng-template",34)(58,Ut,3,2,"ng-template",35),r()()(),_(59,"p-menu",36,0),l(61,"p-dialog",37),O("visibleChange",function(h){return b(s),F(t.showEditPopUp,h)||(t.showEditPopUp=h),E(h)}),l(62,"div",38),B(),l(63,"svg",39),_(64,"rect",40)(65,"path",41)(66,"path",42)(67,"path",43),r()(),le(),l(68,"div",44)(69,"h5",45),p(70),m(71,"translate"),r()(),l(72,"div",46)(73,"div",47)(74,"div",48)(75,"input",49,1),m(77,"translate"),O("ngModelChange",function(h){return b(s),F(t.editName,h)||(t.editName=h),E(h)}),r()()()(),S(78,Jt,4,5,"ng-template",50),r(),l(79,"p-dialog",51),A("onHide",function(){return b(s),E(t.handleFilterList())}),O("visibleChange",function(h){return b(s),F(t.showFilter,h)||(t.showFilter=h),E(h)}),l(80,"div",38),B(),l(81,"svg",52),_(82,"path",53)(83,"path",54)(84,"path",55)(85,"path",56)(86,"path",57)(87,"path",58),r()(),le(),l(88,"div",59)(89,"h5",60)(90,"span"),p(91),m(92,"translate"),r()()(),l(93,"div",61)(94,"div",62)(95,"label",63),p(96),m(97,"translate"),r(),l(98,"p-dropdown",64),m(99,"translate"),O("ngModelChange",function(h){return b(s),F(t.filterObj.status,h)||(t.filterObj.status=h),E(h)}),r()(),l(100,"div",62)(101,"label",63),p(102),m(103,"translate"),r(),l(104,"p-dropdown",64),m(105,"translate"),O("ngModelChange",function(h){return b(s),F(t.filterObj.type,h)||(t.filterObj.type=h),E(h)}),r()()(),S(106,Gt,4,5,"ng-template",50),r(),l(107,"p-dialog",37),O("visibleChange",function(h){return b(s),F(t.showDeletePopUp,h)||(t.showDeletePopUp=h),E(h)}),l(108,"div",38),B(),l(109,"svg",39),_(110,"path",65)(111,"path",66)(112,"path",67)(113,"path",68)(114,"path",69),r()(),le(),l(115,"div",44)(116,"h5",45),p(117),m(118,"translate"),r(),l(119,"p",70),p(120),m(121,"translate"),l(122,"strong"),p(123),m(124,"translate"),r()()(),l(125,"div",46)(126,"div",47)(127,"div",71),_(128,"input",72,1),m(130,"translate"),r()()(),S(131,qt,4,3,"ng-template",50),r()}a&2&&(n(5),g(u(6,64,"DEVICES.TOTAL_DEVICES")),n(2),w(7,t.loadingState?7:8),n(16),g(u(24,66,"DEVICES.ONLINE_DEVICES")),n(2),w(25,t.loadingState?25:26),n(7),g(u(33,68,"DEVICES.OFFLINE_DEVICES")),n(2),w(34,t.loadingState?34:35),n(4),f("ngClass",Q(98,At,t.is_arabic,!t.is_arabic)),n(4),k(" ",u(43,70,"DEVICES.DEVICE_DETAILS_TITLE")," "),n(3),k(" ",u(46,72,"DEVICES.DEVICE_DETAILS")," "),n(3),f("ngClass",q(101,It,t.filterObj.status||t.filterObj.type,t.filterObj.status||t.filterObj.type,!t.filterObj.status&&!t.filterObj.type)),n(),w(49,t.filterCount?49:-1),n(3),T("ngModel",t.searchTerm),f("placeholder",u(53,74,"DEVICES.SEARCH_PLACEHOLDER")),n(3),f("paginator",!0)("totalRecords",t.allData==null?null:t.allData.totalItems)("lazy",!0)("rows",t.per_page)("tableStyle",P(105,yt))("value",t.devicesListTemp),n(4),f("model",t.items)("popup",!0),n(2),xe(P(106,gt)),T("visible",t.showEditPopUp),f("dismissableMask",!0)("modal",!0)("breakpoints",P(107,Ue))("draggable",!1)("resizable",!1),n(9),g(u(71,76,"DEVICES.EDIT_DEVICE_TITLE")),n(5),T("ngModel",t.editName),f("value",t.selected_device==null?null:t.selected_device.deviceName)("placeholder",u(77,78,"DEVICES.EDIT_DEVICE_PLACEHOLDER")),n(4),xe(P(108,kt)),T("visible",t.showFilter),f("dismissableMask",!0)("modal",!0)("breakpoints",P(109,Ue))("draggable",!1)("resizable",!1),n(12),g(u(92,80,"DEVICES.FILTERS")),n(5),g(u(97,82,"DEVICES.STATUS")),n(2),f("options",t.status),T("ngModel",t.filterObj.status),f("showClear",t.filterObj.status)("placeholder",u(99,84,"DEVICES.SELECT_STATUS")),n(4),g(u(103,86,"DEVICES.COMM_TYPE")),n(2),f("options",t.types),T("ngModel",t.filterObj.type),f("showClear",t.filterObj.type)("placeholder",u(105,88,"DEVICES.SELECT_STATUS")),n(3),xe(P(110,gt)),T("visible",t.showDeletePopUp),f("dismissableMask",!0)("modal",!0)("breakpoints",P(111,Ue))("draggable",!1)("resizable",!1),n(10),g(u(118,90,"DEVICES.DELETE_DEVICE_TITLE")),n(3),k("",u(121,92,"DEVICES.DELETE_CONFIRM_MSG")," "),n(3),g(u(124,94,"DEVICES.DELETE")),n(5),f("placeholder",u(130,96,"DEVICES.DELETE_PLACEHOLDER")))},dependencies:[Y,ot,ie,ke,Me,te,Te,dt,ne,lt,rt,ae,st,re,ee],styles:[".card[_ngcontent-%COMP%]{background-color:#fff}.doted[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:50%;-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;-o-border-radius:50%}.doted.small_doted[_ngcontent-%COMP%]{width:15px;height:15px}.doted.small_doted.success[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(var(--success_color) / var(--tw-bg-opacity, 1));box-shadow:0 0 0 3px #b6fccd,0 0 0 5px #e4ffed}.doted.small_doted.danger[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(var(--danger_color) / var(--tw-bg-opacity, 1));box-shadow:0 0 0 3px #ffdada,0 0 0 5px #ffdfdf}.doted.success[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(var(--success_color) / var(--tw-bg-opacity, 1));box-shadow:0 0 0 6px #b6fccd,0 0 0 7px #e4ffed}.doted.danger[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(var(--danger_color) / var(--tw-bg-opacity, 1));box-shadow:0 0 0 6px #ffdada,0 0 0 7px #ffdfdf}  .devices_table .p-datatable-table{border-collapse:separate!important;border-spacing:0 1rem}  .devices_table .p-datatable .p-datatable-thead>tr>th{background-color:transparent;text-align:center;--tw-text-opacity: 1;color:rgb(var(--gold_color) / var(--tw-text-opacity, 1))}  .devices_table .p-datatable .p-datatable-tbody{background-color:transparent}  .devices_table .p-datatable .p-datatable-tbody>tr>td{--tw-bg-opacity: 1;background-color:rgb(var(--whiteColor) / var(--tw-bg-opacity, 1));text-align:center}  .devices_table.ltr_dir .p-datatable .p-datatable-tbody>tr>td:first-child{border-top-left-radius:2.5rem;border-bottom-left-radius:2.5rem}  .devices_table.ltr_dir .p-datatable .p-datatable-tbody>tr>td:last-child{border-top-right-radius:2.5rem;border-bottom-right-radius:2.5rem}  .devices_table.rtl_dir .p-datatable .p-datatable-tbody>tr>td:first-child{border-top-right-radius:2.5rem;border-bottom-right-radius:2.5rem}  .devices_table.rtl_dir .p-datatable .p-datatable-tbody>tr>td:last-child{border-top-left-radius:2.5rem;border-bottom-left-radius:2.5rem}  .devices_table .p-datatable .p-datatable-tbody>tr{border-radius:1.5rem;background-color:transparent}  .namespace_action.p-menu{border-radius:1rem;padding:.75rem}  .namespace_action.p-menu .p-submenu-header{display:none}  .namespace_action.p-menu .p-menuitem-icon{display:flex;align-items:center;justify-content:center}  .select_type_popup{position:relative}  .select_type_popup .p-dialog-header .p-dialog-header-icons{display:none}  .select_type_popup .p-dialog-content .icon_over_lay{position:absolute;top:-12%;left:50%;transform:translate(-50%);width:80px;height:80px;--tw-bg-opacity: 1;background-color:rgb(var(--whiteColor) / var(--tw-bg-opacity, 1));border-radius:50%;-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;-o-border-radius:50%;-webkit-transform:translateX(-50%);-moz-transform:translateX(-50%);-ms-transform:translateX(-50%);-o-transform:translateX(-50%)}  .select_type_popup .p-dialog-content .single_type{width:180px;box-shadow:0 0 2px #00000040}.btn_view[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.btn_view[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{display:block}.icon_filter[_ngcontent-%COMP%]{width:50px;height:50px;display:flex;align-items:center;justify-content:center;border-radius:50%;-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;-o-border-radius:50%}.icon_filter[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{width:20px;height:20px;position:absolute;top:-4px;right:-10px}"]})}}return i})();var Xt=["custom_chart"],Kt=["custom_chart_bar"],Je=i=>({hidden:i}),Zt=()=>({"1920px":"30vw","768px":"75vw","576px":"90vw"}),Yt=(i,d,e)=>({"bg-gold_color":i,"border-0":d,"text-white_color":e}),$t=(i,d)=>({"bg-gold_color":i,"text-white_color":d});function ei(i,d){if(i&1){let e=I();l(0,"button",32),A("click",function(){let t=b(e).$implicit,s=v();return E(s.handleSelecedStatus(t))}),_(1,"i"),l(2,"span"),p(3),r()()}if(i&2){let e=d.$implicit;f("ngClass",q(4,Yt,e==null?null:e.selected,e==null?null:e.selected,e==null?null:e.selected)),n(),M(e==null?null:e.icon),n(2),g(e==null?null:e.name)}}function ti(i,d){if(i&1){let e=I();l(0,"button",33),A("click",function(){let t=b(e).$implicit,s=v();return E(s.handleCustomFilter(t))}),p(1),r()}if(i&2){let e=d.$implicit;f("ngClass",Q(2,$t,e==null?null:e.isActive,e==null?null:e.isActive)),n(),k(" ",e==null?null:e.name," ")}}function ii(i,d){if(i&1){let e=I();l(0,"button",34),A("click",function(){b(e);let t=v();return E(t.cancelAllFilters())}),_(1,"i",35),r()}}function ni(i,d){i&1&&(l(0,"p",36),p(1),m(2,"translate"),r()),i&2&&(n(),g(u(2,1,"DEVICES.REANGE_DATE_FILTER")))}function ai(i,d){i&1&&(l(0,"p",30),p(1),m(2,"translate"),r()),i&2&&(n(),g(u(2,1,"DEVICES.FROM_DATE_REQ")))}function ri(i,d){if(i&1&&S(0,ai,3,3,"p",30),i&2){let e,a=v();w(0,(e=a.filterForm.get("fromDate"))!=null&&e.getError("required")?0:-1)}}function li(i,d){i&1&&(l(0,"p",30),p(1),m(2,"translate"),r()),i&2&&(n(),g(u(2,1,"DEVICES.TO_DATE_REQ")))}function oi(i,d){if(i&1&&S(0,li,3,3,"p",30),i&2){let e,a=v();w(0,(e=a.filterForm.get("toDate"))!=null&&e.getError("required")?0:-1)}}function si(i,d){i&1&&(l(0,"p",30),p(1),m(2,"translate"),r()),i&2&&(n(),g(u(2,1,"DEVICES.TO_DATE_AFTER_FROM")))}function di(i,d){if(i&1){let e=I();l(0,"div",37)(1,"div",38)(2,"p-button",39),m(3,"translate"),A("onClick",function(){b(e);let t=v();return E(t.applyFilterDate())}),r()(),l(4,"button",40),p(5),m(6,"translate"),r()()}if(i&2){let e=v();n(2),f("loading",e.loadingFilter)("label",u(3,4,"DEVICES.APPLY_FILTER"))("disabled",e.filterForm.invalid),n(3),g(u(6,6,"DEVICES.CANCEL"))}}var _t=(()=>{class i{constructor(e,a,t,s){this._SharedService=e,this._DahsboardService=a,this._ActivatedRoute=t,this.translate=s,this.chart_filters=[{id:1,name:"Heart Rate & Blood Oxygen",selected:!0},{id:2,name:"Blood Pressure",selected:!1},{id:3,name:"Body & Wrist Temp",selected:!1},{id:4,name:"Steps Trend",selected:!1}],this.barFlag=!1,this.data_alarms={labels:["January","February","March","April","May"],datasets:[{label:"People In",backgroundColor:"#9f8a6066",borderColor:"#9F8A60",data:[],borderRadius:6,fill:!1,tension:.4,borderCapStyle:"round",borderJoinStyle:"round",pointRadius:5},{label:"People Out",backgroundColor:"#14ab464d",borderColor:"#14AB46",data:[],borderRadius:6,fill:!1,tension:.4,borderCapStyle:"round",borderJoinStyle:"round",pointRadius:5}]},this.optionsAlarm={stacked:!1,maintainAspectRatio:!1,aspectRatio:.6,plugins:{legend:{display:!1,labels:{color:""}}},scales:{x:{ticks:{color:"#9F8A60",font:{weight:500}},grid:{color:"",drawBorder:!0,lineWidth:0},border:{width:3}},y:{ticks:{color:"#9F8A60"},grid:{color:"",drawBorder:!1},border:{width:3}}}},this.loadingFilter=!1,this.filterVisiblle=!1,this.loadingChart=!0,this.customFilters=[{id:1,name:"15m",isActive:!1},{id:2,name:"30m",isActive:!1},{id:3,name:"2h",isActive:!1},{id:4,name:"4h",isActive:!1},{id:5,name:"5h",isActive:!1}],this.current_active_chart=this.chart_filters[0],this.initFilterForm(),this.initChartFilters(),this._ActivatedRoute.paramMap.pipe(se(c=>{this.deviceNameIden=c.get("id")}),oe(c=>this._DahsboardService.getWatchChart(c.get("id")))).subscribe(c=>{this.chart_data=c?.data,this.handleChartData()})}handleChartData(){switch(this.loadingChart=!0,this.current_active_chart.name){case"Heart Rate & Blood Oxygen":this.barFlag=!1,this.data_alarms.labels=this.chart_data.map(e=>e.lastSeen),this.data_alarms.datasets[0].label="Heart Rate ",this.data_alarms.datasets[0].data=this.chart_data.map(e=>e.heartRate),this.data_alarms.datasets[0].fill=!1,this.data_alarms.datasets[1].label="Blood Oxygen ",this.data_alarms.datasets[1].data=this.chart_data.map(e=>e.bloodOxygen),this.data_alarms.datasets[1].fill=!1;break;case"Blood Pressure":this.barFlag=!1,this.data_alarms.labels=this.chart_data.map(e=>e.lastSeen),this.data_alarms.datasets[0].label="Systolic ",this.data_alarms.datasets[0].data=this.chart_data.map(e=>e.bpSystolic),this.data_alarms.datasets[0].fill=!0,this.data_alarms.datasets[1].label="Diastolic",this.data_alarms.datasets[1].data=this.chart_data.map(e=>e.bpDiastolic),this.data_alarms.datasets[1].fill=!0;break;case"Body & Wrist Temp":this.barFlag=!0,this.data_alarms.labels=this.chart_data.map(e=>e.lastSeen),this.data_alarms.datasets[0].label="Body Temp ",this.data_alarms.datasets[0].data=this.chart_data.map(e=>e?.bodyTemp),this.data_alarms.datasets[0].fill=!1,this.data_alarms.datasets[1].label="Wirst Temp",this.data_alarms.datasets[1].data=this.chart_data.map(e=>e.wristTemp),this.data_alarms.datasets[1].fill=!1;break;case"Steps Trend":this.barFlag=!0,this.data_alarms.labels=this.chart_data.map(e=>e.lastSeen),this.data_alarms.datasets=[{label:"Steps",backgroundColor:"#9f8a6066",borderColor:"#9F8A60",data:this.chart_data.map(e=>e.steps),borderRadius:6,fill:!1,tension:.4,borderCapStyle:"round",borderJoinStyle:"round",pointRadius:5},{label:"People Out",backgroundColor:"#14ab464d",borderColor:"#14AB46",data:[],borderRadius:6,fill:!1,tension:.4,borderCapStyle:"round",borderJoinStyle:"round",pointRadius:5}];break;default:break}this.loadingChart=!1,this.custom_chart?.chart?.update(),this.custom_chart_bar?.chart?.update()}handleCustomFilter(e){this.customFilters.map(a=>{a.isActive=!1}),e.isActive=!0}cancelAllFilters(){this.customFilters.map(e=>{e.isActive=!1}),this.getChartData(this.deviceNameIden,null,this.filterForm.get("fromDate")?.value?.toISOString(),this.filterForm.get("toDate")?.value?.toISOString(),this.chart_filters[0].selected,this.chart_filters[1].selected,this.chart_filters[2].selected,this.chart_filters[3].selected)}isApplyDisabled(){return!(this.customFilters.filter(a=>a.isActive).length>0)}applyPeriod(){this.loadingFilter=!0;let e=this.customFilters.filter(a=>a.isActive)[0];this.getChartData(this.deviceNameIden,e?.name,this.filterForm.get("fromDate")?.value?.toISOString(),this.filterForm.get("toDate")?.value?.toISOString(),this.chart_filters[0].selected,this.chart_filters[1].selected,this.chart_filters[2].selected,this.chart_filters[3].selected)}getChartData(e,a,t,s,c=!0,h=!1,x=!1,D=!1){this._DahsboardService.getWatchChart(e,a,t,s,c,h,x,D).subscribe({next:o=>{this.chart_data=o?.data,this.handleChartData(),this.loadingFilter=!1},error:o=>{this.loadingFilter=!1,this.filterVisiblle=!1}})}applyFilterDate(){this.loadingFilter=!0,this.customFilters.map(e=>{e.isActive=!1}),this.getChartData(this.deviceNameIden,null,this.filterForm.get("fromDate")?.value?.toISOString(),this.filterForm.get("toDate")?.value?.toISOString(),this.chart_filters[0].selected,this.chart_filters[1].selected,this.chart_filters[2].selected,this.chart_filters[3].selected),this.filterForm.reset(),this.filterVisiblle=!1}handleExportExcel(){this._SharedService.exportToExcel(this.chart_data,this.deviceNameIden)}handleSelecedStatus(e){this.current_active_chart=e,this.chart_filters.map(t=>{t.selected=!1}),e.selected=!0;let a=this.customFilters.filter(t=>t.isActive)[0];this.getChartData(this.deviceNameIden,a?.name,this.filterForm.get("fromDate")?.value?.toISOString(),this.filterForm.get("toDate")?.value?.toISOString(),this.chart_filters[0].selected,this.chart_filters[1].selected,this.chart_filters[2].selected,this.chart_filters[3].selected)}initFilterForm(){this.filterForm=new pe({fromDate:new G(null,J.required),toDate:new G(null,J.required)},{validators:this.dateRangeValidator})}dateRangeValidator(e){let a=e.get("fromDate")?.value,t=e.get("toDate")?.value;return!a||!t?null:new Date(t).getTime()<=new Date(a).getTime()?{dateRangeInvalid:!0}:null}get dateRangeError(){return this.filterForm.hasError("dateRangeInvalid")}initChartFilters(){this.chart_filters=[{id:1,name:this.translate.instant("DEVICES.HEART_BODY_TEMP"),selected:!0},{id:2,name:this.translate.instant("DEVICES.TEMP_COMPARISON"),selected:!1},{id:3,name:this.translate.instant("DEVICES.DAILY_STEP_COUNT"),selected:!1},{id:4,name:this.translate.instant("DEVICES.BLOOD_PRESSURE_TREND"),selected:!1}],this.current_active_chart=this.chart_filters[0]}static{this.\u0275fac=function(a){return new(a||i)(y(U),y(X),y(de),y($))}}static{this.\u0275cmp=K({type:i,selectors:[["app-custom-chart"]],viewQuery:function(a,t){if(a&1&&(H(Xt,5),H(Kt,5)),a&2){let s;W(s=z())&&(t.custom_chart=s.first),W(s=z())&&(t.custom_chart_bar=s.first)}},decls:52,vars:66,consts:[["custom_chart",""],["custom_chart_bar",""],[1,"p-6","px-12","mb-6","flex-wrap","rounded-full","bg-white_color","shadow","flex","items-center","justify-between"],[1,"text-lg","fw-medium"],[1,"flex","flex-wrap","items-center","gap-4"],[1,"flex","px-3","py-2","rounded-2xl","border","border-1","border-black_color","items-center","gap-2",3,"ngClass"],[1,"bg-white_color","p-4","rounded-lg","shadow"],[1,"head","mb-4","flex","flex-wrap","items-center","justify-between"],[1,"text-lg"],[1,"flex","items-center","flex-wrap","gap-4"],[1,"filters","custom_filters","flex-wrap","flex","items-center","gap-4"],[1,"rounded-xl","px-3","py-1",3,"ngClass"],[1,"action_btn","flex","items-center","gap-4"],[3,"onClick","disabled","loading","label"],[1,"expand_filter",3,"click"],[1,"fi","text-lg","fi-rr-calendar"],[1,"fi","fi-rr-file-export"],["height","15rem","styleClass","mb-2"],[1,"chart"],["type","line","height","400px",3,"data","options"],["type","bar","height","400px",3,"data","options"],["styleClass","filterDailog",3,"visibleChange","header","draggable","visible","position","modal","dismissableMask","breakpoints"],["pTemplate","header"],[1,"py-4"],["action","",3,"formGroup"],[1,"mb-4"],["for","",1,"block","mb-2"],["appendTo","body","formControlName","fromDate","inputId","calendar-12h",3,"autofocus","hourFormat","showTime","placeholder","readonlyInput","iconDisplay","showIcon","showClear"],[1,""],["appendTo","body","formControlName","toDate","inputId","calendar-12h",3,"autofocus","hourFormat","showTime","placeholder","readonlyInput","iconDisplay","showIcon","showClear"],[1,"text-danger_color"],["pTemplate","footer"],[1,"flex","px-3","py-2","rounded-2xl","border","border-1","border-black_color","items-center","gap-2",3,"click","ngClass"],[1,"rounded-xl","px-3","py-1",3,"click","ngClass"],[3,"click"],[1,"fi","text-lg","fi-rr-circle-xmark"],[1,"text-xl","font-medium"],[1,"flex","justify-start","gap-4"],[1,"action_btn"],[3,"onClick","loading","label","disabled"],[1,"cancel_btn","w-fit"]],template:function(a,t){if(a&1){let s=I();l(0,"section")(1,"div",2)(2,"p",3),p(3),m(4,"translate"),r(),l(5,"div",4),R(6,ei,4,8,"button",5,j),r()(),l(8,"div",6)(9,"div",7)(10,"h2",8),p(11),r(),l(12,"div",9)(13,"div",10),R(14,ti,2,5,"button",11,j),r(),l(16,"div",12)(17,"p-button",13),m(18,"translate"),A("onClick",function(){return b(s),E(t.applyPeriod())}),r(),S(19,ii,2,0,"button"),r(),l(20,"button",14),A("click",function(){return b(s),E(t.filterVisiblle=!0)}),_(21,"i",15),r(),l(22,"button",14),A("click",function(){return b(s),E(t.handleExportExcel())}),_(23,"i",16),r()()(),_(24,"p-skeleton",17),l(25,"div",18),_(26,"p-chart",19,0),r(),l(28,"div",18),_(29,"p-chart",20,1),r()()(),l(31,"p-dialog",21),m(32,"translate"),O("visibleChange",function(h){return b(s),F(t.filterVisiblle,h)||(t.filterVisiblle=h),E(h)}),S(33,ni,3,3,"ng-template",22),l(34,"div",23)(35,"form",24)(36,"div",25)(37,"label",26),p(38),m(39,"translate"),r(),_(40,"p-calendar",27),m(41,"translate"),S(42,ri,1,1),r(),l(43,"div",28)(44,"label",26),p(45),m(46,"translate"),r(),_(47,"p-calendar",29),m(48,"translate"),S(49,oi,1,1)(50,si,3,3,"p",30),r()()(),S(51,di,7,8,"ng-template",31),r()}if(a&2){let s,c,h,x,D;n(3),g(u(4,45,"DEVICES.METRIC_FILTERS")),n(3),L(t.chart_filters),n(5),g(t.current_active_chart==null?null:t.current_active_chart.name),n(3),L(t.customFilters),n(3),f("disabled",t.isApplyDisabled())("loading",t.loadingFilter)("label",u(18,47,"DEVICES.APPLY")),n(2),w(19,t.isApplyDisabled()?-1:19),n(5),M(V(59,Je,!t.loadingChart)),n(),M(V(61,Je,t.loadingChart||t.barFlag)),n(),f("data",t.data_alarms)("options",t.optionsAlarm),n(2),M(V(63,Je,t.loadingChart||!t.barFlag)),n(),f("data",t.data_alarms)("options",t.optionsAlarm),n(2),Z("header",u(32,49,"DEVICES.REANGE_DATE_FILTER")),f("draggable",!1),T("visible",t.filterVisiblle),f("position","right")("modal",!0)("dismissableMask",!0)("breakpoints",P(65,Zt)),n(4),f("formGroup",t.filterForm),n(3),g(u(39,51,"DEVICES.FROM_DATE")),n(2),f("autofocus",!1)("hourFormat","12")("showTime",!0)("placeholder",u(41,53,"DEVICES.SELECT_FROM_DATE"))("readonlyInput",!0)("iconDisplay","input")("showIcon",!0)("showClear",!!((s=t.filterForm.get("fromDate"))!=null&&s.value)),n(2),w(42,(c=t.filterForm.get("fromDate"))!=null&&c.invalid&&((c=t.filterForm.get("fromDate"))!=null&&c.touched)?42:-1),n(3),g(u(46,55,"DEVICES.TO_DATE")),n(2),f("autofocus",!1)("hourFormat","12")("showTime",!0)("placeholder",u(48,57,"DEVICES.SELECT_TO_DATE"))("readonlyInput",!0)("iconDisplay","input")("showIcon",!0)("showClear",!!((h=t.filterForm.get("toDate"))!=null&&h.value)),n(2),w(49,(x=t.filterForm.get("toDate"))!=null&&x.invalid&&((x=t.filterForm.get("toDate"))!=null&&x.touched)?49:-1),n(),w(50,t.dateRangeError&&((D=t.filterForm.get("toDate"))!=null&&D.touched)?50:-1)}},dependencies:[Y,me,ie,ce,ue,he,ge,te,ne,ae,re,Ce,ee]})}}return i})();var pi=["custom_chart"],mi=["custom_chart_bar"],Xe=i=>({hidden:i}),ui=()=>({"1920px":"30vw","768px":"75vw","576px":"90vw"}),hi=(i,d,e)=>({"bg-gold_color":i,"border-0":d,"text-white_color":e}),Ci=(i,d)=>({"bg-gold_color":i,"text-white_color":d});function gi(i,d){if(i&1){let e=I();l(0,"button",32),A("click",function(){let t=b(e).$implicit,s=v();return E(s.handleSelecedStatus(t))}),_(1,"i"),l(2,"span"),p(3),r()()}if(i&2){let e=d.$implicit;f("ngClass",q(4,hi,e==null?null:e.selected,e==null?null:e.selected,e==null?null:e.selected)),n(),M(e==null?null:e.icon),n(2),g(e==null?null:e.name)}}function fi(i,d){if(i&1){let e=I();l(0,"button",33),A("click",function(){let t=b(e).$implicit,s=v();return E(s.handleCustomFilter(t))}),p(1),r()}if(i&2){let e=d.$implicit;f("ngClass",Q(2,Ci,e==null?null:e.isActive,e==null?null:e.isActive)),n(),k(" ",e==null?null:e.name," ")}}function _i(i,d){if(i&1){let e=I();l(0,"button",34),A("click",function(){b(e);let t=v();return E(t.cancelAllFilters())}),_(1,"i",35),r()}}function vi(i,d){i&1&&(l(0,"p",36),p(1),m(2,"translate"),r()),i&2&&(n(),g(u(2,1,"DEVICES.REANGE_DATE_FILTER")))}function bi(i,d){i&1&&(l(0,"p",30),p(1),m(2,"translate"),r()),i&2&&(n(),g(u(2,1,"DEVICES.FROM_DATE_REQ")))}function Ei(i,d){if(i&1&&S(0,bi,3,3,"p",30),i&2){let e,a=v();w(0,(e=a.filterForm.get("fromDate"))!=null&&e.getError("required")?0:-1)}}function Si(i,d){i&1&&(l(0,"p",30),p(1),m(2,"translate"),r()),i&2&&(n(),g(u(2,1,"DEVICES.TO_DATE_REQ")))}function Di(i,d){if(i&1&&S(0,Si,3,3,"p",30),i&2){let e,a=v();w(0,(e=a.filterForm.get("toDate"))!=null&&e.getError("required")?0:-1)}}function xi(i,d){i&1&&(l(0,"p",30),p(1),m(2,"translate"),r()),i&2&&(n(),g(u(2,1,"DEVICES.TO_DATE_AFTER_FROM")))}function wi(i,d){if(i&1){let e=I();l(0,"div",37)(1,"div",38)(2,"p-button",39),m(3,"translate"),A("onClick",function(){b(e);let t=v();return E(t.applyFilterDate())}),r()(),l(4,"button",40),p(5),m(6,"translate"),r()()}if(i&2){let e=v();n(2),f("loading",e.loadingFilter)("label",u(3,4,"DEVICES.APPLY_FILTER"))("disabled",e.filterForm.invalid),n(3),g(u(6,6,"DEVICES.CANCEL"))}}var vt=(()=>{class i{constructor(e,a,t,s){this._SharedService=e,this._DahsboardService=a,this._ActivatedRoute=t,this.translate=s,this.chart_filters=[{id:1,name:"Steps & Colories",selected:!0},{id:2,name:"Heart Rate",selected:!1},{id:3,name:"Temprature",selected:!1}],this.barFlag=!1,this.data_alarms={labels:["January","February","March","April","May"],datasets:[{label:"People In",backgroundColor:"#9f8a6066",borderColor:"#9F8A60",data:[],borderRadius:6,fill:!1,tension:.4,borderCapStyle:"round",borderJoinStyle:"round",pointRadius:5},{label:"People Out",backgroundColor:"#14ab464d",borderColor:"#14AB46",data:[],borderRadius:6,fill:!1,tension:.4,borderCapStyle:"round",borderJoinStyle:"round",pointRadius:5}]},this.optionsAlarm={stacked:!1,maintainAspectRatio:!1,aspectRatio:.6,plugins:{legend:{display:!1,labels:{color:""}}},scales:{x:{ticks:{color:"#9F8A60",font:{weight:500}},grid:{color:"",drawBorder:!0,lineWidth:0},border:{width:3}},y:{ticks:{color:"#9F8A60"},grid:{color:"",drawBorder:!1},border:{width:3}}}},this.loadingFilter=!1,this.filterVisiblle=!1,this.loadingChart=!0,this.customFilters=[{id:1,name:"15m",isActive:!1},{id:2,name:"30m",isActive:!1},{id:3,name:"2h",isActive:!1},{id:4,name:"4h",isActive:!1},{id:5,name:"5h",isActive:!1}],this.current_active_chart=this.chart_filters[0],this.initFilterForm(),this.initChartFilters(),this._ActivatedRoute.paramMap.pipe(se(c=>{this.deviceNameIden=c.get("id")}),oe(c=>this._DahsboardService.getWatchLWChart(c.get("id")))).subscribe(c=>{this.chart_data=c?.data,this.handleChartData()})}handleChartData(){switch(this.loadingChart=!0,this.current_active_chart.name){case"Steps & Colories":this.barFlag=!1,this.data_alarms.labels=this.chart_data.map(e=>e.lastSeen),this.data_alarms.datasets=[{label:"Steps",backgroundColor:"#7cabf9",borderColor:"#7cabf9",data:this.chart_data.map(e=>e.stepCount),borderRadius:6,fill:!1,tension:.4,borderCapStyle:"round",borderJoinStyle:"round",pointRadius:5},{label:"Calories",backgroundColor:"#f7b35c",borderColor:"#f7b35c",data:this.chart_data.map(e=>e.calorie),borderRadius:6,fill:!1,tension:.4,borderCapStyle:"round",borderJoinStyle:"round",pointRadius:5}];break;case"Heart Rate":this.barFlag=!1,this.data_alarms.datasets=[{label:"Heart Rate",backgroundColor:"#fdeaea",borderColor:"#f05151",data:this.chart_data.map(e=>e.heartRate),borderRadius:6,fill:!0,tension:.4,borderCapStyle:"round",borderJoinStyle:"round",pointRadius:5}];break;case"Temprature":this.barFlag=!1,this.data_alarms.datasets=[{label:"Temprature",backgroundColor:"#efe8fe",borderColor:"#9369f7",data:this.chart_data.map(e=>e.heartRate),borderRadius:6,fill:!0,tension:.4,borderCapStyle:"round",borderJoinStyle:"round",pointRadius:5}];break;default:break}this.loadingChart=!1,this.custom_chart?.chart?.update(),this.custom_chart_bar?.chart?.update()}handleCustomFilter(e){this.customFilters.map(a=>{a.isActive=!1}),e.isActive=!0}cancelAllFilters(){this.customFilters.map(e=>{e.isActive=!1}),this.getChartData(this.deviceNameIden,null,this.filterForm.get("fromDate")?.value?.toISOString(),this.filterForm.get("toDate")?.value?.toISOString(),this.chart_filters[1].selected,this.chart_filters[0].selected,this.chart_filters[2].selected,!0,this.chart_filters[0].selected)}isApplyDisabled(){return!(this.customFilters.filter(a=>a.isActive).length>0)}applyPeriod(){this.loadingFilter=!0;let e=this.customFilters.filter(a=>a.isActive)[0];this.getChartData(this.deviceNameIden,e?.name,this.filterForm.get("fromDate")?.value?.toISOString(),this.filterForm.get("toDate")?.value?.toISOString(),this.chart_filters[1].selected,this.chart_filters[0].selected,this.chart_filters[2].selected,!0,this.chart_filters[0].selected)}getChartData(e,a,t,s,c=!0,h=!1,x=!1,D=!1,o=!1){this._DahsboardService.getWatchLWChart(e,a,t,s,c,h,x,D,o).subscribe({next:C=>{this.chart_data=C?.data,this.handleChartData(),this.loadingFilter=!1},error:C=>{this.loadingFilter=!1,this.filterVisiblle=!1}})}applyFilterDate(){this.loadingFilter=!0,this.customFilters.map(e=>{e.isActive=!1}),this.getChartData(this.deviceNameIden,null,this.filterForm.get("fromDate")?.value?.toISOString(),this.filterForm.get("toDate")?.value?.toISOString(),this.chart_filters[1].selected,this.chart_filters[0].selected,this.chart_filters[2].selected,!0,this.chart_filters[0].selected),this.filterForm.reset(),this.filterVisiblle=!1}handleExportExcel(){this._SharedService.exportToExcel(this.chart_data,this.deviceNameIden)}handleSelecedStatus(e){this.current_active_chart=e,this.chart_filters.map(t=>{t.selected=!1}),e.selected=!0;let a=this.customFilters.filter(t=>t.isActive)[0];this.getChartData(this.deviceNameIden,a?.name,this.filterForm.get("fromDate")?.value?.toISOString(),this.filterForm.get("toDate")?.value?.toISOString(),this.chart_filters[1].selected,this.chart_filters[0].selected,this.chart_filters[2].selected,!0,this.chart_filters[0].selected)}initFilterForm(){this.filterForm=new pe({fromDate:new G(null,J.required),toDate:new G(null,J.required)},{validators:this.dateRangeValidator})}dateRangeValidator(e){let a=e.get("fromDate")?.value,t=e.get("toDate")?.value;return!a||!t?null:new Date(t).getTime()<=new Date(a).getTime()?{dateRangeInvalid:!0}:null}get dateRangeError(){return this.filterForm.hasError("dateRangeInvalid")}initChartFilters(){this.chart_filters=[{id:1,name:this.translate.instant("DEVICES.HEART_BODY_TEMP"),selected:!0},{id:2,name:this.translate.instant("DEVICES.TEMP_COMPARISON"),selected:!1},{id:3,name:this.translate.instant("DEVICES.DAILY_STEP_COUNT"),selected:!1},{id:4,name:this.translate.instant("DEVICES.BLOOD_PRESSURE_TREND"),selected:!1}],this.current_active_chart=this.chart_filters[0]}static{this.\u0275fac=function(a){return new(a||i)(y(U),y(X),y(de),y($))}}static{this.\u0275cmp=K({type:i,selectors:[["app-custom-chart-lw"]],viewQuery:function(a,t){if(a&1&&(H(pi,5),H(mi,5)),a&2){let s;W(s=z())&&(t.custom_chart=s.first),W(s=z())&&(t.custom_chart_bar=s.first)}},decls:52,vars:66,consts:[["custom_chart",""],["custom_chart_bar",""],[1,"p-6","px-12","mb-6","flex-wrap","rounded-full","bg-white_color","shadow","flex","items-center","justify-between"],[1,"text-lg","fw-medium"],[1,"flex","flex-wrap","items-center","gap-4"],[1,"flex","px-3","py-2","rounded-2xl","border","border-1","border-black_color","items-center","gap-2",3,"ngClass"],[1,"bg-white_color","p-4","rounded-lg","shadow"],[1,"head","mb-4","flex","flex-wrap","items-center","justify-between"],[1,"text-lg"],[1,"flex","items-center","flex-wrap","gap-4"],[1,"filters","custom_filters","flex-wrap","flex","items-center","gap-4"],[1,"rounded-xl","px-3","py-1",3,"ngClass"],[1,"action_btn","flex","items-center","gap-4"],[3,"onClick","disabled","loading","label"],[1,"expand_filter",3,"click"],[1,"fi","text-lg","fi-rr-calendar"],[1,"fi","fi-rr-file-export"],["height","15rem","styleClass","mb-2"],[1,"chart"],["type","line","height","400px",3,"data","options"],["type","bar","height","400px",3,"data","options"],["styleClass","filterDailog",3,"visibleChange","header","draggable","visible","position","modal","dismissableMask","breakpoints"],["pTemplate","header"],[1,"py-4"],["action","",3,"formGroup"],[1,"mb-4"],["for","",1,"block","mb-2"],["appendTo","body","formControlName","fromDate","inputId","calendar-12h",3,"autofocus","hourFormat","showTime","placeholder","readonlyInput","iconDisplay","showIcon","showClear"],[1,""],["appendTo","body","formControlName","toDate","inputId","calendar-12h",3,"autofocus","hourFormat","showTime","placeholder","readonlyInput","iconDisplay","showIcon","showClear"],[1,"text-danger_color"],["pTemplate","footer"],[1,"flex","px-3","py-2","rounded-2xl","border","border-1","border-black_color","items-center","gap-2",3,"click","ngClass"],[1,"rounded-xl","px-3","py-1",3,"click","ngClass"],[3,"click"],[1,"fi","text-lg","fi-rr-circle-xmark"],[1,"text-xl","font-medium"],[1,"flex","justify-start","gap-4"],[1,"action_btn"],[3,"onClick","loading","label","disabled"],[1,"cancel_btn","w-fit"]],template:function(a,t){if(a&1){let s=I();l(0,"section")(1,"div",2)(2,"p",3),p(3),m(4,"translate"),r(),l(5,"div",4),R(6,gi,4,8,"button",5,j),r()(),l(8,"div",6)(9,"div",7)(10,"h2",8),p(11),r(),l(12,"div",9)(13,"div",10),R(14,fi,2,5,"button",11,j),r(),l(16,"div",12)(17,"p-button",13),m(18,"translate"),A("onClick",function(){return b(s),E(t.applyPeriod())}),r(),S(19,_i,2,0,"button"),r(),l(20,"button",14),A("click",function(){return b(s),E(t.filterVisiblle=!0)}),_(21,"i",15),r(),l(22,"button",14),A("click",function(){return b(s),E(t.handleExportExcel())}),_(23,"i",16),r()()(),_(24,"p-skeleton",17),l(25,"div",18),_(26,"p-chart",19,0),r(),l(28,"div",18),_(29,"p-chart",20,1),r()()(),l(31,"p-dialog",21),m(32,"translate"),O("visibleChange",function(h){return b(s),F(t.filterVisiblle,h)||(t.filterVisiblle=h),E(h)}),S(33,vi,3,3,"ng-template",22),l(34,"div",23)(35,"form",24)(36,"div",25)(37,"label",26),p(38),m(39,"translate"),r(),_(40,"p-calendar",27),m(41,"translate"),S(42,Ei,1,1),r(),l(43,"div",28)(44,"label",26),p(45),m(46,"translate"),r(),_(47,"p-calendar",29),m(48,"translate"),S(49,Di,1,1)(50,xi,3,3,"p",30),r()()(),S(51,wi,7,8,"ng-template",31),r()}if(a&2){let s,c,h,x,D;n(3),g(u(4,45,"DEVICES.METRIC_FILTERS")),n(3),L(t.chart_filters),n(5),g(t.current_active_chart==null?null:t.current_active_chart.name),n(3),L(t.customFilters),n(3),f("disabled",t.isApplyDisabled())("loading",t.loadingFilter)("label",u(18,47,"DEVICES.APPLY")),n(2),w(19,t.isApplyDisabled()?-1:19),n(5),M(V(59,Xe,!t.loadingChart)),n(),M(V(61,Xe,t.loadingChart||t.barFlag)),n(),f("data",t.data_alarms)("options",t.optionsAlarm),n(2),M(V(63,Xe,t.loadingChart||!t.barFlag)),n(),f("data",t.data_alarms)("options",t.optionsAlarm),n(2),Z("header",u(32,49,"DEVICES.REANGE_DATE_FILTER")),f("draggable",!1),T("visible",t.filterVisiblle),f("position","right")("modal",!0)("dismissableMask",!0)("breakpoints",P(65,ui)),n(4),f("formGroup",t.filterForm),n(3),g(u(39,51,"DEVICES.FROM_DATE")),n(2),f("autofocus",!1)("hourFormat","12")("showTime",!0)("placeholder",u(41,53,"DEVICES.SELECT_FROM_DATE"))("readonlyInput",!0)("iconDisplay","input")("showIcon",!0)("showClear",!!((s=t.filterForm.get("fromDate"))!=null&&s.value)),n(2),w(42,(c=t.filterForm.get("fromDate"))!=null&&c.invalid&&((c=t.filterForm.get("fromDate"))!=null&&c.touched)?42:-1),n(3),g(u(46,55,"DEVICES.TO_DATE")),n(2),f("autofocus",!1)("hourFormat","12")("showTime",!0)("placeholder",u(48,57,"DEVICES.SELECT_TO_DATE"))("readonlyInput",!0)("iconDisplay","input")("showIcon",!0)("showClear",!!((h=t.filterForm.get("toDate"))!=null&&h.value)),n(2),w(49,(x=t.filterForm.get("toDate"))!=null&&x.invalid&&((x=t.filterForm.get("toDate"))!=null&&x.touched)?49:-1),n(),w(50,t.dateRangeError&&((D=t.filterForm.get("toDate"))!=null&&D.touched)?50:-1)}},dependencies:[Y,me,ie,ce,ue,he,ge,te,ne,ae,re,Ce,ee],styles:[`<section[_ngcontent-%COMP%] > <div[_ngcontent-%COMP%]   class="p-6[_ngcontent-%COMP%]   px-12[_ngcontent-%COMP%]   mb-6[_ngcontent-%COMP%]   flex-wrap[_ngcontent-%COMP%]   rounded-full[_ngcontent-%COMP%]   bg-white_color[_ngcontent-%COMP%]   shadow[_ngcontent-%COMP%]   flex[_ngcontent-%COMP%]   items-center[_ngcontent-%COMP%]   justify-between"[_ngcontent-%COMP%] > <p[_ngcontent-%COMP%]   class="text-lg[_ngcontent-%COMP%]   fw-medium"[_ngcontent-%COMP%] > {{ 'DEVICES.METRIC_FILTERS' | translate }}</p[_ngcontent-%COMP%] > <div[_ngcontent-%COMP%]   class="flex[_ngcontent-%COMP%]   flex-wrap[_ngcontent-%COMP%]   items-center[_ngcontent-%COMP%]   gap-4"[_ngcontent-%COMP%] > @for(state[_ngcontent-%COMP%]   of[_ngcontent-%COMP%]   chart_filters[_ngcontent-%COMP%] ; track[_ngcontent-%COMP%]   state)[_ngcontent-%COMP%]{\r
      <button (click)="handleSelecedStatus(state)"\r
        [ngClass]="{'bg-gold_color':state?.selected , 'border-0':state?.selected ,'text-white_color':state?.selected}"\r
        class="flex px-3 py-2 rounded-2xl border border-1 border-black_color items-center gap-2">\r
        <i [class]="state?.icon"></i>\r
        <span>{{state?.name}}</span>\r
      </button>\r
      }\r
    </div[_ngcontent-%COMP%] > </div[_ngcontent-%COMP%] > <div[_ngcontent-%COMP%]   class="[_ngcontent-%COMP%]   bg-white_color[_ngcontent-%COMP%]   p-4[_ngcontent-%COMP%]   rounded-lg[_ngcontent-%COMP%]   shadow"[_ngcontent-%COMP%] > <div[_ngcontent-%COMP%]   class="head[_ngcontent-%COMP%]   mb-4[_ngcontent-%COMP%]   flex[_ngcontent-%COMP%]   flex-wrap[_ngcontent-%COMP%]   items-center[_ngcontent-%COMP%]   justify-between"[_ngcontent-%COMP%] > <h2[_ngcontent-%COMP%]   class="text-lg"[_ngcontent-%COMP%] > {{current_active_chart?.name}}</h2[_ngcontent-%COMP%] > <div[_ngcontent-%COMP%]   class="flex[_ngcontent-%COMP%]   items-center[_ngcontent-%COMP%]   flex-wrap[_ngcontent-%COMP%]   gap-4"[_ngcontent-%COMP%] > <div[_ngcontent-%COMP%]   class="filters[_ngcontent-%COMP%]   custom_filters[_ngcontent-%COMP%]   flex-wrap[_ngcontent-%COMP%]   flex[_ngcontent-%COMP%]   items-center[_ngcontent-%COMP%]   gap-4"[_ngcontent-%COMP%] > @for(filter[_ngcontent-%COMP%]   of[_ngcontent-%COMP%]   customFilters[_ngcontent-%COMP%]; track[_ngcontent-%COMP%]   filter)[_ngcontent-%COMP%]{\r
          <button (click)="handleCustomFilter(filter)" class="rounded-xl px-3 py-1"\r
            [ngClass]="{'bg-gold_color':filter?.isActive , 'text-white_color':filter?.isActive}">\r
            {{filter?.name}}\r
          </button>\r
          }\r
        </div[_ngcontent-%COMP%] > <div[_ngcontent-%COMP%]   class="action_btn[_ngcontent-%COMP%]   flex[_ngcontent-%COMP%]   items-center[_ngcontent-%COMP%]   gap-4"[_ngcontent-%COMP%] > <p-button[_ngcontent-%COMP%]   [disabled]="isApplyDisabled()"[_ngcontent-%COMP%]   (onClick)="applyPeriod()"[_ngcontent-%COMP%]   [loading]="loadingFilter"[_ngcontent-%COMP%]   [label]="'DEVICES.APPLY'[_ngcontent-%COMP%]   |[_ngcontent-%COMP%]   translate"[_ngcontent-%COMP%]   /[_ngcontent-%COMP%] > @if(!isApplyDisabled())[_ngcontent-%COMP%]{\r
          <button (click)="cancelAllFilters()">\r
            <i class="fi text-lg fi-rr-circle-xmark"></i>\r
          </button>\r
          }\r
        </div[_ngcontent-%COMP%] > <button[_ngcontent-%COMP%]   (click)="filterVisiblle[_ngcontent-%COMP%]   =[_ngcontent-%COMP%]   true"[_ngcontent-%COMP%]   class="expand_filter"[_ngcontent-%COMP%] > <i[_ngcontent-%COMP%]   class="fi[_ngcontent-%COMP%]   text-lg[_ngcontent-%COMP%]   fi-rr-calendar"[_ngcontent-%COMP%] > </i[_ngcontent-%COMP%] > </button[_ngcontent-%COMP%] > <button[_ngcontent-%COMP%]   (click)="handleExportExcel()"[_ngcontent-%COMP%]   class="expand_filter"[_ngcontent-%COMP%] > <i[_ngcontent-%COMP%]   class="fi[_ngcontent-%COMP%]   fi-rr-file-export"[_ngcontent-%COMP%] > </i[_ngcontent-%COMP%] > </button[_ngcontent-%COMP%] > </div[_ngcontent-%COMP%] > </div[_ngcontent-%COMP%] > <p-skeleton[_ngcontent-%COMP%]   height="15rem"[_ngcontent-%COMP%]   [class]="[_ngcontent-%COMP%]{'hidden':!loadingChart}"[_ngcontent-%COMP%]   styleClass="mb-2"[_ngcontent-%COMP%]   /[_ngcontent-%COMP%] > <div[_ngcontent-%COMP%]   [class]="[_ngcontent-%COMP%]{'hidden': loadingChart||barFlag}"[_ngcontent-%COMP%]   class="chart"[_ngcontent-%COMP%] > <p-chart[_ngcontent-%COMP%]   #custom_chart[_ngcontent-%COMP%]   type="line"[_ngcontent-%COMP%]   height="400px"[_ngcontent-%COMP%]   [data]="data_alarms"[_ngcontent-%COMP%]   [options]="optionsAlarm"[_ngcontent-%COMP%]   /[_ngcontent-%COMP%] > </div[_ngcontent-%COMP%] > <div[_ngcontent-%COMP%]   [class]="[_ngcontent-%COMP%]{'hidden': loadingChart||!barFlag}"[_ngcontent-%COMP%]   class="chart"[_ngcontent-%COMP%] > <p-chart[_ngcontent-%COMP%]   #custom_chart_bar[_ngcontent-%COMP%]   type="bar"[_ngcontent-%COMP%]   height="400px"[_ngcontent-%COMP%]   [data]="data_alarms"[_ngcontent-%COMP%]   [options]="optionsAlarm"[_ngcontent-%COMP%]   /[_ngcontent-%COMP%] > </div[_ngcontent-%COMP%] > </div[_ngcontent-%COMP%] > </section[_ngcontent-%COMP%] > <p-dialog[_ngcontent-%COMP%]   header="[_ngcontent-%COMP%]{{ 'DEVICES.REANGE_DATE_FILTER' | translate }}"[_ngcontent-%COMP%]   styleClass="filterDailog"[_ngcontent-%COMP%]   [draggable]="false"[_ngcontent-%COMP%]   [(visible)]="filterVisiblle"[_ngcontent-%COMP%]   [position]="'right'"[_ngcontent-%COMP%]   [modal]="true"[_ngcontent-%COMP%]   [dismissableMask]="true"[_ngcontent-%COMP%]   [breakpoints]="[_ngcontent-%COMP%]{\r
        '1920px': '30vw',\r
        '768px': '75vw',\r
        '576px': '90vw'\r
    }"[_ngcontent-%COMP%] > <ng-template[_ngcontent-%COMP%]   pTemplate="header"[_ngcontent-%COMP%] > <p[_ngcontent-%COMP%]   class="text-xl[_ngcontent-%COMP%]   font-medium"[_ngcontent-%COMP%] > {{ 'DEVICES.REANGE_DATE_FILTER' | translate }}</p[_ngcontent-%COMP%] > </ng-template[_ngcontent-%COMP%] > <div[_ngcontent-%COMP%]   class="[_ngcontent-%COMP%]   py-4"[_ngcontent-%COMP%] > <form[_ngcontent-%COMP%]   [formGroup]="filterForm"[_ngcontent-%COMP%]   action=""[_ngcontent-%COMP%] > <div[_ngcontent-%COMP%]   class="[_ngcontent-%COMP%]   mb-4[_ngcontent-%COMP%]   "[_ngcontent-%COMP%] > <label[_ngcontent-%COMP%]   for=""[_ngcontent-%COMP%]   class="block[_ngcontent-%COMP%]   mb-2"[_ngcontent-%COMP%] > {{ 'DEVICES.FROM_DATE' | translate }}</label[_ngcontent-%COMP%] > <p-calendar[_ngcontent-%COMP%]   appendTo="body"[_ngcontent-%COMP%]   [autofocus]="false"[_ngcontent-%COMP%]   [hourFormat]="'12'"[_ngcontent-%COMP%]   [showTime]="true"[_ngcontent-%COMP%]   [placeholder]="'DEVICES.SELECT_FROM_DATE'[_ngcontent-%COMP%]   |[_ngcontent-%COMP%]   translate"[_ngcontent-%COMP%]   formControlName="fromDate"[_ngcontent-%COMP%]   [readonlyInput]="true"[_ngcontent-%COMP%]   inputId="calendar-12h"[_ngcontent-%COMP%]   [iconDisplay]="'input'"[_ngcontent-%COMP%]   [showIcon]="true"[_ngcontent-%COMP%]   [showClear]="filterForm.get('fromDate')?.value[_ngcontent-%COMP%]   ?[_ngcontent-%COMP%]   true[_ngcontent-%COMP%]   :[_ngcontent-%COMP%]   false"[_ngcontent-%COMP%]   /[_ngcontent-%COMP%] > @if(filterForm.get('fromDate')?.invalid[_ngcontent-%COMP%]   &&[_ngcontent-%COMP%]   filterForm.get('fromDate')?.touched)[_ngcontent-%COMP%]{\r
        @if(filterForm.get('fromDate')?.getError('required')){\r
        <p class="text-danger_color">{{ 'DEVICES.FROM_DATE_REQ' | translate }}</p>\r
        }\r
        }\r
      </div[_ngcontent-%COMP%] > <div[_ngcontent-%COMP%]   class=""[_ngcontent-%COMP%] > <label[_ngcontent-%COMP%]   for=""[_ngcontent-%COMP%]   class="block[_ngcontent-%COMP%]   mb-2"[_ngcontent-%COMP%] > {{ 'DEVICES.TO_DATE' | translate }}</label[_ngcontent-%COMP%] > <p-calendar[_ngcontent-%COMP%]   appendTo="body"[_ngcontent-%COMP%]   [autofocus]="false"[_ngcontent-%COMP%]   [hourFormat]="'12'"[_ngcontent-%COMP%]   [showTime]="true"[_ngcontent-%COMP%]   [placeholder]="'DEVICES.SELECT_TO_DATE'[_ngcontent-%COMP%]   |[_ngcontent-%COMP%]   translate"[_ngcontent-%COMP%]   formControlName="toDate"[_ngcontent-%COMP%]   [readonlyInput]="true"[_ngcontent-%COMP%]   inputId="calendar-12h"[_ngcontent-%COMP%]   [iconDisplay]="'input'"[_ngcontent-%COMP%]   [showIcon]="true"[_ngcontent-%COMP%]   [showClear]="filterForm.get('toDate')?.value[_ngcontent-%COMP%]   ?[_ngcontent-%COMP%]   true[_ngcontent-%COMP%]   :[_ngcontent-%COMP%]   false"[_ngcontent-%COMP%]   /[_ngcontent-%COMP%] > @if(filterForm.get('toDate')?.invalid[_ngcontent-%COMP%]   &&[_ngcontent-%COMP%]   filterForm.get('toDate')?.touched)[_ngcontent-%COMP%]{\r
        @if(filterForm.get('toDate')?.getError('required')){\r
        <p class="text-danger_color">{{ 'DEVICES.TO_DATE_REQ' | translate }}</p>\r
        }\r
        }\r
\r
        @if(dateRangeError && filterForm.get('toDate')?.touched){\r
        <p class="text-danger_color">{{ 'DEVICES.TO_DATE_AFTER_FROM' | translate }}</p>\r
        }\r
      </div[_ngcontent-%COMP%] > </form[_ngcontent-%COMP%] > </div[_ngcontent-%COMP%] > <ng-template[_ngcontent-%COMP%]   pTemplate="footer"[_ngcontent-%COMP%] > <div[_ngcontent-%COMP%]   class="flex[_ngcontent-%COMP%]   justify-start[_ngcontent-%COMP%]   gap-4"[_ngcontent-%COMP%] > <div[_ngcontent-%COMP%]   class="action_btn"[_ngcontent-%COMP%] > <p-button[_ngcontent-%COMP%]   [loading]="loadingFilter"[_ngcontent-%COMP%]   (onClick)="applyFilterDate()"[_ngcontent-%COMP%]   [label]="'DEVICES.APPLY_FILTER'[_ngcontent-%COMP%]   |[_ngcontent-%COMP%]   translate"[_ngcontent-%COMP%]   [disabled]="filterForm.invalid"[_ngcontent-%COMP%]   /[_ngcontent-%COMP%] > </div[_ngcontent-%COMP%] > <button[_ngcontent-%COMP%]   class="cancel_btn[_ngcontent-%COMP%]   w-fit"[_ngcontent-%COMP%] > {{ 'DEVICES.CANCEL' | translate }}</button>\r
    </div>\r
  </ng-template>\r
</p-dialog>`]})}}return i})();var Ii=["custom_chart"],yi=["custom_chart_bar"],Ke=i=>({hidden:i}),ki=()=>({"1920px":"30vw","768px":"75vw","576px":"90vw"}),Mi=(i,d,e)=>({"bg-gold_color":i,"border-0":d,"text-white_color":e}),Ti=(i,d)=>({"bg-gold_color":i,"text-white_color":d});function Fi(i,d){if(i&1){let e=I();l(0,"button",32),A("click",function(){let t=b(e).$implicit,s=v();return E(s.handleSelecedStatus(t))}),_(1,"i"),l(2,"span"),p(3),r()()}if(i&2){let e=d.$implicit;f("ngClass",q(4,Mi,e==null?null:e.selected,e==null?null:e.selected,e==null?null:e.selected)),n(),M(e==null?null:e.icon),n(2),g(e==null?null:e.name)}}function Oi(i,d){if(i&1){let e=I();l(0,"button",33),A("click",function(){let t=b(e).$implicit,s=v();return E(s.handleCustomFilter(t))}),p(1),r()}if(i&2){let e=d.$implicit;f("ngClass",Q(2,Ti,e==null?null:e.isActive,e==null?null:e.isActive)),n(),k(" ",e==null?null:e.name," ")}}function Pi(i,d){if(i&1){let e=I();l(0,"button",34),A("click",function(){b(e);let t=v();return E(t.cancelAllFilters())}),_(1,"i",35),r()}}function Vi(i,d){i&1&&(l(0,"p",36),p(1),m(2,"translate"),r()),i&2&&(n(),g(u(2,1,"DEVICES.REANGE_DATE_FILTER")))}function Bi(i,d){i&1&&(l(0,"p",30),p(1),m(2,"translate"),r()),i&2&&(n(),g(u(2,1,"DEVICES.FROM_DATE_REQ")))}function Ri(i,d){if(i&1&&S(0,Bi,3,3,"p",30),i&2){let e,a=v();w(0,(e=a.filterForm.get("fromDate"))!=null&&e.getError("required")?0:-1)}}function Li(i,d){i&1&&(l(0,"p",30),p(1),m(2,"translate"),r()),i&2&&(n(),g(u(2,1,"DEVICES.TO_DATE_REQ")))}function Qi(i,d){if(i&1&&S(0,Li,3,3,"p",30),i&2){let e,a=v();w(0,(e=a.filterForm.get("toDate"))!=null&&e.getError("required")?0:-1)}}function Ni(i,d){i&1&&(l(0,"p",30),p(1),m(2,"translate"),r()),i&2&&(n(),g(u(2,1,"DEVICES.TO_DATE_AFTER_FROM")))}function ji(i,d){if(i&1){let e=I();l(0,"div",37)(1,"div",38)(2,"p-button",39),m(3,"translate"),A("onClick",function(){b(e);let t=v();return E(t.applyFilterDate())}),r()(),l(4,"button",40),p(5),m(6,"translate"),r()()}if(i&2){let e=v();n(2),f("loading",e.loadingFilter)("label",u(3,4,"DEVICES.APPLY_FILTER"))("disabled",e.filterForm.invalid),n(3),g(u(6,6,"DEVICES.CANCEL"))}}var bt=(()=>{class i{constructor(e,a,t,s){this._SharedService=e,this._DahsboardService=a,this._ActivatedRoute=t,this.translate=s,this.chart_filters=[],this.barFlag=!1,this.data_alarms={labels:["January","February","March","April","May"],datasets:[{label:"People In",backgroundColor:"#9f8a6066",borderColor:"#9F8A60",data:[],borderRadius:6,fill:!1,tension:.4,borderCapStyle:"round",borderJoinStyle:"round",pointRadius:5},{label:"People Out",backgroundColor:"#14ab464d",borderColor:"#14AB46",data:[],borderRadius:6,fill:!1,tension:.4,borderCapStyle:"round",borderJoinStyle:"round",pointRadius:5}]},this.optionsAlarm={stacked:!1,maintainAspectRatio:!1,aspectRatio:.6,plugins:{legend:{display:!1,labels:{color:""}}},scales:{x:{ticks:{color:"#9F8A60",font:{weight:500}},grid:{color:"",drawBorder:!0,lineWidth:0},border:{width:3}},y:{ticks:{color:"#9F8A60"},grid:{color:"",drawBorder:!1},border:{width:3}}}},this.loadingFilter=!1,this.filterVisiblle=!1,this.loadingChart=!0,this.customFilters=[{id:1,name:"15m",isActive:!1},{id:2,name:"30m",isActive:!1},{id:3,name:"2h",isActive:!1},{id:4,name:"4h",isActive:!1},{id:5,name:"5h",isActive:!1}],this.current_active_chart=this.chart_filters[0],this.initChartFilters(),this.initFilterForm(),this._ActivatedRoute.paramMap.pipe(se(c=>{this.deviceNameIden=c.get("id")}),oe(c=>this._DahsboardService.getWatchWBBChart(c.get("id")))).subscribe(c=>{this.chart_data=c?.data,this.handleChartData()})}handleChartData(){switch(this.loadingChart=!0,this.current_active_chart.name){case"Heart Rate & Body Temperature":this.barFlag=!1,this.data_alarms.labels=this.chart_data.map(e=>e.lastSeen),this.data_alarms.datasets[0].label="Heart Rate ",this.data_alarms.datasets[0].data=this.chart_data.map(e=>e.heartRate),this.data_alarms.datasets[0].fill=!1,this.data_alarms.datasets[1].label="Body Temp ",this.data_alarms.datasets[1].data=this.chart_data.map(e=>e.bodyTemp),this.data_alarms.datasets[1].fill=!1;break;case"Temperature Comparison":this.barFlag=!1,this.data_alarms.labels=this.chart_data.map(e=>e.lastSeen),this.data_alarms.datasets[0].label="Body Temp ",this.data_alarms.datasets[0].data=this.chart_data.map(e=>e.bodyTemp),this.data_alarms.datasets[0].fill=!0,this.data_alarms.datasets[1].label="Wrist Temp",this.data_alarms.datasets[1].data=this.chart_data.map(e=>e.wristTemp),this.data_alarms.datasets[1].fill=!0;break;case"Daily Step Count":this.barFlag=!0,this.data_alarms.labels=this.chart_data.map(e=>e.lastSeen),this.data_alarms.datasets[0].label="Steps ",this.data_alarms.datasets[0].data=this.chart_data.map(e=>e?.stepCount),this.data_alarms.datasets[0].fill=!1,this.data_alarms.datasets[1].data=[];break;case"Blood Pressure Trend":this.barFlag=!1,this.data_alarms.labels=this.chart_data.map(e=>e.lastSeen),this.data_alarms.datasets=[{label:"Systolic",backgroundColor:"#9f8a6066",borderColor:"#9F8A60",data:this.chart_data.map(e=>e.bpSystolic),borderRadius:6,fill:!0,tension:.4,borderCapStyle:"round",borderJoinStyle:"round",pointRadius:5},{label:"Diastolic",backgroundColor:"#14ab464d",borderColor:"#14AB46",data:this.chart_data.map(e=>e.bpDiastolic),borderRadius:6,fill:!0,tension:.4,borderCapStyle:"round",borderJoinStyle:"round",pointRadius:5}];break;default:break}this.loadingChart=!1,this.custom_chart?.chart?.update(),this.custom_chart_bar?.chart?.update()}handleCustomFilter(e){this.customFilters.map(a=>{a.isActive=!1}),e.isActive=!0}cancelAllFilters(){this.customFilters.map(e=>{e.isActive=!1}),this.getChartData(this.deviceNameIden,null,this.filterForm.get("fromDate")?.value?.toISOString(),this.filterForm.get("toDate")?.value?.toISOString(),this.chart_filters[0].selected,this.chart_filters[1].selected,this.chart_filters[2].selected,this.chart_filters[3].selected)}isApplyDisabled(){return!(this.customFilters.filter(a=>a.isActive).length>0)}applyPeriod(){this.loadingFilter=!0;let e=this.customFilters.filter(a=>a.isActive)[0];this.getChartData(this.deviceNameIden,e?.name,this.filterForm.get("fromDate")?.value?.toISOString(),this.filterForm.get("toDate")?.value?.toISOString(),this.chart_filters[0].selected,this.chart_filters[1].selected,this.chart_filters[2].selected,this.chart_filters[3].selected)}getChartData(e,a,t,s,c=!0,h=!1,x=!1,D=!1){this._DahsboardService.getWatchWBBChart(e,a,t,s,c,h,x,D).subscribe({next:o=>{this.chart_data=o?.data,this.handleChartData(),this.loadingFilter=!1},error:o=>{this.loadingFilter=!1,this.filterVisiblle=!1}})}applyFilterDate(){this.loadingFilter=!0,this.customFilters.map(e=>{e.isActive=!1}),this.getChartData(this.deviceNameIden,null,this.filterForm.get("fromDate")?.value?.toISOString(),this.filterForm.get("toDate")?.value?.toISOString(),this.chart_filters[0].selected,this.chart_filters[1].selected,this.chart_filters[2].selected,this.chart_filters[3].selected),this.filterForm.reset(),this.filterVisiblle=!1}handleExportExcel(){this._SharedService.exportToExcel(this.chart_data,this.deviceNameIden)}handleSelecedStatus(e){this.current_active_chart=e,this.chart_filters.map(t=>{t.selected=!1}),e.selected=!0;let a=this.customFilters.filter(t=>t.isActive)[0];this.getChartData(this.deviceNameIden,a?.name,this.filterForm.get("fromDate")?.value?.toISOString(),this.filterForm.get("toDate")?.value?.toISOString(),this.chart_filters[0].selected,this.chart_filters[1].selected,this.chart_filters[2].selected,this.chart_filters[3].selected)}initFilterForm(){this.filterForm=new pe({fromDate:new G(null,J.required),toDate:new G(null,J.required)},{validators:this.dateRangeValidator})}dateRangeValidator(e){let a=e.get("fromDate")?.value,t=e.get("toDate")?.value;return!a||!t?null:new Date(t).getTime()<=new Date(a).getTime()?{dateRangeInvalid:!0}:null}get dateRangeError(){return this.filterForm.hasError("dateRangeInvalid")}initChartFilters(){this.chart_filters=[{id:1,name:this.translate.instant("DEVICES.HEART_BODY_TEMP"),selected:!0},{id:2,name:this.translate.instant("DEVICES.TEMP_COMPARISON"),selected:!1},{id:3,name:this.translate.instant("DEVICES.DAILY_STEP_COUNT"),selected:!1},{id:4,name:this.translate.instant("DEVICES.BLOOD_PRESSURE_TREND"),selected:!1}],this.current_active_chart=this.chart_filters[0]}static{this.\u0275fac=function(a){return new(a||i)(y(U),y(X),y(de),y($))}}static{this.\u0275cmp=K({type:i,selectors:[["app-chart-wbb"]],viewQuery:function(a,t){if(a&1&&(H(Ii,5),H(yi,5)),a&2){let s;W(s=z())&&(t.custom_chart=s.first),W(s=z())&&(t.custom_chart_bar=s.first)}},decls:52,vars:66,consts:[["custom_chart",""],["custom_chart_bar",""],[1,"p-6","gap-4","px-12","mb-6","flex-wrap","rounded-full","bg-white_color","shadow","flex","items-center","justify-between"],[1,"text-lg","fw-medium"],[1,"flex","flex-wrap","items-center","gap-4"],[1,"flex","px-3","py-2","rounded-2xl","border","border-1","border-black_color","items-center","gap-2",3,"ngClass"],[1,"bg-white_color","p-4","rounded-lg","shadow"],[1,"head","mb-4","flex","flex-wrap","items-center","justify-between"],[1,"text-lg"],[1,"flex","items-center","flex-wrap","gap-4"],[1,"filters","custom_filters","flex-wrap","flex","items-center","gap-4"],[1,"rounded-xl","px-3","py-1",3,"ngClass"],[1,"action_btn","flex","items-center","gap-4"],[3,"onClick","disabled","loading","label"],[1,"expand_filter",3,"click"],[1,"fi","text-lg","fi-rr-calendar"],[1,"fi","fi-rr-file-export"],["height","15rem","styleClass","mb-2"],[1,"chart"],["type","line","height","400px",3,"data","options"],["type","bar","height","400px",3,"data","options"],["styleClass","filterDailog",3,"visibleChange","header","draggable","visible","position","modal","dismissableMask","breakpoints"],["pTemplate","header"],[1,"py-4"],["action","",3,"formGroup"],[1,"mb-4"],["for","",1,"block","mb-2"],["appendTo","body","formControlName","fromDate","inputId","calendar-12h",3,"autofocus","hourFormat","showTime","placeholder","readonlyInput","iconDisplay","showIcon","showClear"],[1,""],["appendTo","body","formControlName","toDate","inputId","calendar-12h",3,"autofocus","hourFormat","showTime","placeholder","readonlyInput","iconDisplay","showIcon","showClear"],[1,"text-danger_color"],["pTemplate","footer"],[1,"flex","px-3","py-2","rounded-2xl","border","border-1","border-black_color","items-center","gap-2",3,"click","ngClass"],[1,"rounded-xl","px-3","py-1",3,"click","ngClass"],[3,"click"],[1,"fi","text-lg","fi-rr-circle-xmark"],[1,"text-xl","font-medium"],[1,"flex","justify-start","gap-4"],[1,"action_btn"],[3,"onClick","loading","label","disabled"],[1,"cancel_btn","w-fit"]],template:function(a,t){if(a&1){let s=I();l(0,"section")(1,"div",2)(2,"p",3),p(3),m(4,"translate"),r(),l(5,"div",4),R(6,Fi,4,8,"button",5,j),r()(),l(8,"div",6)(9,"div",7)(10,"h2",8),p(11),r(),l(12,"div",9)(13,"div",10),R(14,Oi,2,5,"button",11,j),r(),l(16,"div",12)(17,"p-button",13),m(18,"translate"),A("onClick",function(){return b(s),E(t.applyPeriod())}),r(),S(19,Pi,2,0,"button"),r(),l(20,"button",14),A("click",function(){return b(s),E(t.filterVisiblle=!0)}),_(21,"i",15),r(),l(22,"button",14),A("click",function(){return b(s),E(t.handleExportExcel())}),_(23,"i",16),r()()(),_(24,"p-skeleton",17),l(25,"div",18),_(26,"p-chart",19,0),r(),l(28,"div",18),_(29,"p-chart",20,1),r()()(),l(31,"p-dialog",21),m(32,"translate"),O("visibleChange",function(h){return b(s),F(t.filterVisiblle,h)||(t.filterVisiblle=h),E(h)}),S(33,Vi,3,3,"ng-template",22),l(34,"div",23)(35,"form",24)(36,"div",25)(37,"label",26),p(38),m(39,"translate"),r(),_(40,"p-calendar",27),m(41,"translate"),S(42,Ri,1,1),r(),l(43,"div",28)(44,"label",26),p(45),m(46,"translate"),r(),_(47,"p-calendar",29),m(48,"translate"),S(49,Qi,1,1)(50,Ni,3,3,"p",30),r()()(),S(51,ji,7,8,"ng-template",31),r()}if(a&2){let s,c,h,x,D;n(3),g(u(4,45,"DEVICES.METRIC_FILTERS")),n(3),L(t.chart_filters),n(5),g(t.current_active_chart==null?null:t.current_active_chart.name),n(3),L(t.customFilters),n(3),f("disabled",t.isApplyDisabled())("loading",t.loadingFilter)("label",u(18,47,"DEVICES.APPLY")),n(2),w(19,t.isApplyDisabled()?-1:19),n(5),M(V(59,Ke,!t.loadingChart)),n(),M(V(61,Ke,t.loadingChart||t.barFlag)),n(),f("data",t.data_alarms)("options",t.optionsAlarm),n(2),M(V(63,Ke,t.loadingChart||!t.barFlag)),n(),f("data",t.data_alarms)("options",t.optionsAlarm),n(2),Z("header",u(32,49,"DEVICES.REANGE_DATE_FILTER")),f("draggable",!1),T("visible",t.filterVisiblle),f("position","right")("modal",!0)("dismissableMask",!0)("breakpoints",P(65,ki)),n(4),f("formGroup",t.filterForm),n(3),g(u(39,51,"DEVICES.FROM_DATE")),n(2),f("autofocus",!1)("hourFormat","12")("showTime",!0)("placeholder",u(41,53,"DEVICES.SELECT_FROM_DATE"))("readonlyInput",!0)("iconDisplay","input")("showIcon",!0)("showClear",!!((s=t.filterForm.get("fromDate"))!=null&&s.value)),n(2),w(42,(c=t.filterForm.get("fromDate"))!=null&&c.invalid&&((c=t.filterForm.get("fromDate"))!=null&&c.touched)?42:-1),n(3),g(u(46,55,"DEVICES.TO_DATE")),n(2),f("autofocus",!1)("hourFormat","12")("showTime",!0)("placeholder",u(48,57,"DEVICES.SELECT_TO_DATE"))("readonlyInput",!0)("iconDisplay","input")("showIcon",!0)("showClear",!!((h=t.filterForm.get("toDate"))!=null&&h.value)),n(2),w(49,(x=t.filterForm.get("toDate"))!=null&&x.invalid&&((x=t.filterForm.get("toDate"))!=null&&x.touched)?49:-1),n(),w(50,t.dateRangeError&&((D=t.filterForm.get("toDate"))!=null&&D.touched)?50:-1)}},dependencies:[Y,me,ie,ce,ue,he,ge,te,ne,ae,re,Ce,ee]})}}return i})();var Wi=["alarms_chart"],Ze=(i,d)=>({"bg-gold_color":i,"text-white_color":d}),Ye=i=>({hidden:i}),zi=(i,d)=>({lat:i,lng:d}),Ui=(i,d,e)=>({hidden:i,rtl_dir:d,ltr_dir:e}),Ji=()=>({"min-width":"50rem"}),Gi=()=>[5,10,15,20],qi=()=>({"1920px":"30vw","768px":"75vw","576px":"90vw"}),Xi=(i,d)=>({"text-success_color":i,"text-danger_color":d}),Ki=(i,d,e)=>({"bg-gold_color":i,"border-0":d,"text-white_color":e});function Zi(i,d){i&1&&_(0,"p-skeleton",4)}function Yi(i,d){if(i&1&&(l(0,"h2",55),p(1),r()),i&2){let e=v();n(),g(e.deviceDetails==null?null:e.deviceDetails.deviceName)}}function $i(i,d){i&1&&_(0,"p-skeleton",6)}function en(i,d){if(i&1&&(l(0,"span"),p(1),r()),i&2){let e=v();n(),g(e.deviceDetails==null?null:e.deviceDetails.identifier)}}function tn(i,d){i&1&&_(0,"p-skeleton",7)}function nn(i,d){if(i&1&&(l(0,"div"),_(1,"img",56),r()),i&2){let e=v();n(),f("src",e.deviceDetails==null?null:e.deviceDetails.image_device,je)}}function an(i,d){i&1&&_(0,"p-skeleton",6)}function rn(i,d){if(i&1&&(l(0,"p",10),p(1),m(2,"translate"),m(3,"translate"),r()),i&2){let e=v();f("ngClass",Q(6,Xi,e.deviceDetails==null?null:e.deviceDetails.isOnline,!(e.deviceDetails!=null&&e.deviceDetails.isOnline))),n(),k(" ",e.deviceDetails!=null&&e.deviceDetails.isOnline?u(2,2,"DEVICES.ONLINE"):u(3,4,"DEVICES.OFFLINE"),"")}}function ln(i,d){i&1&&_(0,"p-skeleton",6)}function on(i,d){if(i&1&&(l(0,"p",57),p(1),r()),i&2){let e=v();n(),k(" ",e.deviceDetails==null?null:e.deviceDetails.deviceType,"")}}function sn(i,d){i&1&&_(0,"p-skeleton",6)}function dn(i,d){if(i&1&&(l(0,"p",57),p(1),m(2,"translate"),r()),i&2){let e,a=v();n(),k(" ",(e=a.deviceDetails==null?null:a.deviceDetails.connectivity)!==null&&e!==void 0?e:u(2,1,"DEVICES.NA"),"")}}function cn(i,d){i&1&&(l(0,"div",33),_(1,"p-skeleton",58),r())}function pn(i,d){if(i&1){let e=I();l(0,"div",59)(1,"div",60),A("click",function(){b(e);let t=v(5);return E(t.handleShowImage())}),_(2,"p-image",61),r(),l(3,"div",18)(4,"p",62),p(5),r(),l(6,"p",62),p(7),r()()()}if(i&2){let e=v(3).$implicit,a=v(2);n(2),f("src",e.icon)("previewImageSrc",a.imagePreview)("preview",!0),n(3),g(e==null?null:e.name),n(2),g(a.deviceDetails==null?null:a.deviceDetails.lastUpdated)}}function mn(i,d){if(i&1&&S(0,pn,8,5,"div",59),i&2){let e=v(2).$implicit,a=v(2);w(0,(e==null?null:e.value)!=null&&(a.deviceDetails==null?null:a.deviceDetails.identifier)!="80c5940b-ad04-4228-8302-495447b6e3a7"?0:-1)}}function un(i,d){if(i&1&&(l(0,"div",59)(1,"div",63),_(2,"img",64),r(),l(3,"div",18)(4,"p",65),p(5),r(),l(6,"p",62),p(7),r(),l(8,"p",62),p(9),r()()()),i&2){let e=v(2).$implicit,a=v(2);n(2),f("src",e==null?null:e.icon,je),n(3),g(e==null?null:e.value),n(2),g(e==null?null:e.name),n(2),g(a.deviceDetails==null?null:a.deviceDetails.lastUpdated)}}function hn(i,d){if(i&1&&S(0,mn,1,1)(1,un,10,4),i&2){let e=v().$implicit;w(0,(e==null?null:e.name)=="Preview Image"?0:1)}}function Cn(i,d){if(i&1&&S(0,hn,2,1),i&2){let e=d.$implicit;w(0,e?0:-1)}}function gn(i,d){if(i&1&&R(0,Cn,1,1,null,null,we),i&2){let e=v();L(e.lastReading)}}function fn(i,d){if(i&1){let e=I();l(0,"div",36)(1,"div",66)(2,"label",67),p(3),m(4,"translate"),r(),l(5,"div",68)(6,"p-inputNumber",69),O("ngModelChange",function(t){b(e);let s=v();return F(s.location.lat,t)||(s.location.lat=t),E(t)}),r()()(),l(7,"div",66)(8,"label",67),p(9),m(10,"translate"),r(),l(11,"div",68)(12,"p-inputNumber",70),O("ngModelChange",function(t){b(e);let s=v();return F(s.location.lng,t)||(s.location.lng=t),E(t)}),r()()(),l(13,"div",71)(14,"p-button",72),m(15,"translate"),A("onClick",function(){b(e);let t=v();return E(t.handleChangeLocation())}),r()()()}if(i&2){let e=v();n(3),g(u(4,6,"DEVICES.LATITUDE")),n(3),T("ngModel",e.location.lat),f("minFractionDigits",1),n(3),g(u(10,8,"DEVICES.LONGITUDE")),n(3),T("ngModel",e.location.lng),n(2),f("label",u(15,10,"DEVICES.UPDATE"))}}function _n(i,d){i&1&&(l(0,"div",33),_(1,"app-custom-chart"),r())}function vn(i,d){i&1&&(l(0,"div",33),_(1,"app-custom-chart-lw"),r())}function bn(i,d){i&1&&(l(0,"div",33),_(1,"app-chart-wbb"),r())}function En(i,d){if(i&1){let e=I();l(0,"button",91),A("click",function(){let t=b(e).$implicit,s=v(2);return E(s.handleSelecedStatus(t))}),_(1,"i"),l(2,"span"),p(3),r()()}if(i&2){let e=d.$implicit;f("ngClass",q(4,Ki,e==null?null:e.selected,e==null?null:e.selected,e==null?null:e.selected)),n(),M(e==null?null:e.icon),n(2),g(e==null?null:e.name)}}function Sn(i,d){i&1&&(l(0,"h2",79),p(1),m(2,"translate"),r()),i&2&&(n(),g(u(2,1,"DEVICES.PEOPLE_COUNTING_OVERVIEW")))}function Dn(i,d){i&1&&(l(0,"h2",79),p(1),m(2,"translate"),r()),i&2&&(n(),g(u(2,1,"DEVICES.SENSOR_DATA_OVERVIEW")))}function xn(i,d){if(i&1){let e=I();l(0,"button",92),A("click",function(){let t=b(e).$implicit,s=v(2);return E(s.handleCustomFilter(t))}),p(1),r()}if(i&2){let e=d.$implicit;f("ngClass",Q(2,Ze,e==null?null:e.isActive,e==null?null:e.isActive)),n(),k(" ",e==null?null:e.name," ")}}function wn(i,d){if(i&1){let e=I();l(0,"button",93),A("click",function(){b(e);let t=v(2);return E(t.cancelAllFilters())}),_(1,"i",94),r()}}function An(i,d){if(i&1){let e=I();l(0,"div",73)(1,"p",74),p(2),m(3,"translate"),r(),l(4,"div",75),R(5,En,4,8,"button",76,j),r()(),l(7,"div",77)(8,"div",78),S(9,Sn,3,3,"h2",79)(10,Dn,3,3),l(11,"div",80)(12,"div",81),R(13,xn,2,5,"button",82,j),r(),l(15,"div",83)(16,"p-button",84),m(17,"translate"),A("onClick",function(){b(e);let t=v();return E(t.applyPeriod())}),r(),S(18,wn,2,0,"button"),r(),l(19,"button",85),A("click",function(){b(e);let t=v();return E(t.filterVisiblle=!0)}),_(20,"i",86),r(),l(21,"button",85),A("click",function(){b(e);let t=v();return E(t.handleExportExcel())}),_(22,"i",87),r()()(),_(23,"p-skeleton",88),l(24,"div",89),_(25,"p-chart",90,1),r()()}if(i&2){let e=v();n(2),g(u(3,12,"DEVICES.METRIC_FILTERS")),n(3),L(e.peopleStatus),n(4),w(9,e.isPip?10:9),n(4),L(e.customFilters),n(3),f("disabled",e.isApplyDisabled())("loading",e.loadingFilter)("label",u(17,14,"DEVICES.APPLY")),n(2),w(18,e.isApplyDisabled()?-1:18),n(5),M(V(16,Ye,!e.loadingChart)),n(),M(V(18,Ye,e.loadingChart)),n(),f("data",e.data_alarms)("options",e.optionsAlarm)}}function In(i,d){if(i&1&&(l(0,"th",95),p(1),r()),i&2){let e=d.$implicit;n(),g(e.key)}}function yn(i,d){if(i&1&&(l(0,"tr"),R(1,In,2,1,"th",95,we),m(3,"keyvalue"),r()),i&2){let e=v();n(),L(He(3,0,e.tableData[0],e.keepOrder))}}function kn(i,d){if(i&1&&(l(0,"div",96)(1,"span"),p(2),r(),B(),l(3,"svg",97),_(4,"path",98)(5,"path",99)(6,"path",100)(7,"path",101),r()()),i&2){let e=v(3).$implicit;n(2),k("",e==null?null:e.batteryVoltage," %")}}function Mn(i,d){if(i&1&&(l(0,"div",102)(1,"span"),p(2),r(),B(),l(3,"svg",97),_(4,"path",103)(5,"path",104)(6,"path",105)(7,"path",106),r()()),i&2){let e=v(3).$implicit;n(2),k("",e==null?null:e.batteryVoltage," %")}}function Tn(i,d){if(i&1&&(l(0,"div",107)(1,"span"),p(2),r(),B(),l(3,"svg",97),_(4,"path",108)(5,"path",109)(6,"path",110)(7,"path",111),r()()),i&2){let e=v(3).$implicit;n(2),k("",e==null?null:e.batteryVoltage," %")}}function Fn(i,d){if(i&1&&(l(0,"td"),S(1,kn,8,1,"div",96)(2,Mn,8,1)(3,Tn,8,1),r()),i&2){let e=v(2).$implicit;n(),w(1,(e==null?null:e.batteryVoltage)>=50?1:(e==null?null:e.batteryVoltage)<50&&(e==null?null:e.batteryVoltage)>=20?2:3)}}function On(i,d){if(i&1&&(l(0,"td",95),p(1),r()),i&2){let e,a=v().$implicit;n(),g((e=a.value)!==null&&e!==void 0?e:"N/A")}}function Pn(i,d){if(i&1&&S(0,Fn,4,1,"td")(1,On,2,1),i&2){let e=d.$implicit;w(0,e.key=="batteryVoltage"?0:1)}}function Vn(i,d){if(i&1&&(l(0,"tr"),R(1,Pn,2,1,null,null,we),m(3,"keyvalue"),r()),i&2){let e=d.$implicit,a=v();n(),L(He(3,0,e,a.keepOrder))}}function Bn(i,d){if(i&1&&(l(0,"tr")(1,"td"),_(2,"app-empty-state",112),r()()),i&2){let e=v();n(),De("colspan",8),n(),f("loadingState",e.loadingState)}}function Rn(i,d){i&1&&(l(0,"p",113),p(1),m(2,"translate"),r()),i&2&&(n(),g(u(2,1,"DEVICES.REANGE_DATE_FILTER")))}function Ln(i,d){i&1&&(l(0,"p",53),p(1),m(2,"translate"),r()),i&2&&(n(),g(u(2,1,"DEVICES.FROM_DATE_REQ")))}function Qn(i,d){if(i&1&&S(0,Ln,3,3,"p",53),i&2){let e,a=v();w(0,(e=a.filterForm.get("fromDate"))!=null&&e.getError("required")?0:-1)}}function Nn(i,d){i&1&&(l(0,"p",53),p(1),m(2,"translate"),r()),i&2&&(n(),g(u(2,1,"DEVICES.TO_DATE_REQ")))}function jn(i,d){if(i&1&&S(0,Nn,3,3,"p",53),i&2){let e,a=v();w(0,(e=a.filterForm.get("toDate"))!=null&&e.getError("required")?0:-1)}}function Hn(i,d){i&1&&(l(0,"p",53),p(1),m(2,"translate"),r()),i&2&&(n(),g(u(2,1,"DEVICES.TO_DATE_AFTER_FROM")))}function Wn(i,d){if(i&1){let e=I();l(0,"div",114)(1,"div",115)(2,"p-button",116),m(3,"translate"),A("onClick",function(){b(e);let t=v();return E(t.applyFilterDate())}),r()(),l(4,"button",117),p(5),m(6,"translate"),r()()}if(i&2){let e=v();n(2),f("loading",e.loadingFilter)("label",u(3,4,"DEVICES.APPLY_FILTER"))("disabled",e.filterForm.invalid),n(3),g(u(6,6,"DEVICES.CANCEL"))}}var Et=(()=>{class i{handleReload(){window.location.reload()}handleShowImage(){this._DahsboardService.getImage(this.deviceDetails?.identifier).subscribe(e=>{console.log("res image",e),this.showImagePopUp=!0,this.imagePreview=e?.previewImage})}constructor(e,a,t,s,c,h,x,D){this._Router=e,this._MessageService=a,this._KeyValuePipe=t,this._SharedService=s,this._ActivatedRoute=c,this._DahsboardService=h,this.translate=x,this._TranslationsService=D,this.is_arabic=!1,this.custom_chart_WBB=!1,this.custom_comp_Chart_lw=!1,this.custom_comp_Chart=!1,this.loc_flag=!1,this.isPip=!1,this.filterVisiblle=!1,this.keepOrder=(o,C)=>0,this.peopleStatus=[],this.customFilters=[{id:1,name:"15m",isActive:!1},{id:2,name:"30m",isActive:!1},{id:3,name:"2h",isActive:!1},{id:4,name:"4h",isActive:!1},{id:5,name:"5h",isActive:!1}],this.loadingFilter=!1,this.loadingChart=!1,this.current_chart_data=[],this.data_alarms={labels:["January","February","March","April","May","June","July"],datasets:[{label:"People In",backgroundColor:"#9F8A60",borderColor:"#9F8A60",data:[],borderRadius:6,fill:!1,tension:.4,borderCapStyle:"round",borderJoinStyle:"round",pointRadius:5},{label:"People Out",backgroundColor:"#1A232D",borderColor:"#1A232D",data:[],borderRadius:6,fill:!1,tension:.4,borderCapStyle:"round",borderJoinStyle:"round",pointRadius:5},{label:"Accumulated In",backgroundColor:"#FF9500",borderColor:"#FF9500",data:[],borderRadius:6,fill:!1,tension:.4,borderCapStyle:"round",borderJoinStyle:"round",pointRadius:5},{label:"Accumulated Out",backgroundColor:"#14AB46",borderColor:"#14AB46",data:[],borderRadius:6,fill:!1,tension:.4,borderCapStyle:"round",borderJoinStyle:"round",pointRadius:5}]},this.optionsAlarm={stacked:!1,maintainAspectRatio:!1,aspectRatio:.6,plugins:{legend:{display:!1,labels:{color:""}}},scales:{x:{ticks:{color:"#9F8A60",font:{weight:500}},grid:{color:"",drawBorder:!0,lineWidth:0},border:{width:3}},y:{ticks:{color:"#9F8A60"},grid:{color:"",drawBorder:!1},border:{width:3}}}},this.location={lat:40.73061,lng:-73.935242,name:"test"},this.location_flag=!1,this.showImagePopUp=!1,this.lastReading=[],this.tableData=[],this.current_page=1,this.per_page=15,this.loadingState=!1,this.center={lat:24.713892459748248,lng:46.66132500714057},this.zoom=8,this.options={mapId:"115e41338d1465ab",center:this.center,zoom:this.zoom,styles:[{featureType:"administrative",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",stylers:[{visibility:"off"}]}]},this.current_tab=1,this.deviceDetailsLoding=!0,this._TranslationsService.selected_lan_sub.subscribe(o=>{o=="ar"?this.is_arabic=!0:this.is_arabic=!1}),this._ActivatedRoute.paramMap.pipe(se(o=>{this.deviceId=o.get("id"),this.devceType=o?.get("type")}),oe(o=>this._DahsboardService.getDeviceNewDetails(o.get("id"),o.get("type")))).subscribe(o=>{this.deviceDetails=o?.data?.details,this.deviceReadings=o?.data?.readings,this.lastReading=this._KeyValuePipe.transform(this.deviceDetails.latestReading).map(C=>{if(C?.value?.value)return et({},C.value);if(C.key=="location"&&(this.deviceDetails?.deviceType=="VCW"||this.deviceDetails?.deviceType=="VCB")&&(this.loc_flag=!0,this.location=C.value,this.location.lat=Number(this.location.lat),this.location.lng=Number(this.location.lng),this.map.googleMap?.setCenter({lat:this.location.lat,lng:this.location.lng})),C.key=="location"&&this.deviceDetails?.deviceType=="PPC-002-LRW"){this.location_flag=!0,this.location=C.value,this.location.lat=Number(this.location.lat),this.location.lng=Number(this.location.lng);let $e=document.createElement("img");$e.src=this.deviceDetails?.image_device,$e.width=40,this.handleChart(),this.peopleStatus=[{id:1,name:this.translate.instant("DEVICES.PEOPLE_IN"),selected:!0,icon:"fi fi-rr-users-alt"},{id:2,name:this.translate.instant("DEVICES.PEOPLE_OUT"),selected:!0,icon:"fi fi-rr-users-alt"},{id:3,name:this.translate.instant("DEVICES.ACCUMULATED_IN"),selected:!0,icon:"fi fi-rr-rewind"},{id:4,name:this.translate.instant("DEVICES.ACCUMULATED_OUT"),selected:!0,icon:"fi fi-rr-forward"}],this.map.googleMap?.setCenter({lat:this.location.lat,lng:this.location.lng})}else C.key=="location"&&this.deviceDetails?.deviceType=="PLS-001-SFX"?(this.isPip=!0,this.location_flag=!0,this.map.googleMap?.setCenter({lat:this.location.lat,lng:this.location.lng}),this.peopleStatus=[{id:1,name:this.translate.instant("DEVICES.TEMPERATURE_C"),selected:!0,icon:"fi fi-rr-temperature-high"},{id:2,name:this.translate.instant("DEVICES.BATTERY_LEVEL_V"),selected:!0,icon:"fi fi-rr-battery-bolt"},{id:3,name:this.translate.instant("DEVICES.TILT_ANGLE"),selected:!0,icon:"fi fi-rr-chart-histogram"},{id:4,name:this.translate.instant("DEVICES.ULTRASONIC_DISTANCE"),selected:!0,icon:"fi fi-rr-eye"}],this.handleSigFoxChart()):C.key=="location"&&this.deviceDetails?.deviceType=="People Counter"&&(this.location_flag=!0,this.location=C.value,this.location.lat=Number(this.location.lat),this.location.lng=Number(this.location.lng),this.map.googleMap?.setCenter({lat:this.location.lat,lng:this.location.lng}),this.isPip=!1,this.peopleStatus=[{id:1,name:this.translate.instant("DEVICES.PEOPLE_IN"),selected:!0,icon:"fi fi-rr-users-alt"},{id:2,name:this.translate.instant("DEVICES.PEOPLE_OUT"),selected:!0,icon:"fi fi-rr-users-alt"},{id:3,name:this.translate.instant("DEVICES.TOTAL_IN"),selected:!0,icon:"fi fi-rr-rewind"},{id:4,name:this.translate.instant("DEVICES.TOTAL_OUT"),selected:!0,icon:"fi fi-rr-forward"}],this.handlePeopleCounterChart())}),this.deviceDetails?.deviceType=="SW2-003-LRW"&&(this.custom_comp_Chart=!0),this.deviceDetails?.deviceType=="LW3-004-LRW"&&(this.custom_comp_Chart_lw=!0),this.deviceDetails?.deviceType=="WBB-003-LRW"&&(this.custom_chart_WBB=!0),console.log("res device last",this.location),this.deviceDetailsLoding=!1}),this._SharedService.breadCrumbTitle.next("BREADCRUMB.DEVICE_MANAGEMENT")}ngOnInit(){this.initFilterForm()}initFilterForm(){this.filterForm=new pe({fromDate:new G(null,J.required),toDate:new G(null,J.required)},{validators:this.dateRangeValidator})}ngAfterViewInit(){}handleChangeLocation(){this._DahsboardService.addLocation(this.deviceDetails?.identifier,this.deviceDetails?.deviceType,String(this.location.lng),String(this.location.lat)).subscribe(e=>{this._MessageService.add({severity:"success",summary:"Success",detail:"Locaton Added Successfully!"})})}handleCustomFilter(e){this.customFilters.map(a=>{a.isActive=!1}),e.isActive=!0}isApplyDisabled(){return!(this.customFilters.filter(a=>a.isActive).length>0)}cancelAllFilters(){this.customFilters.map(a=>{a.isActive=!1});let e=this.customFilters.filter(a=>a.isActive)[0];!this.isPip&&this.deviceDetails?.deviceType!="People Counter"?this.handleChart(e?.name,this.filterForm.get("fromDate")?.value?.toISOString(),this.filterForm.get("toDate")?.value?.toISOString(),this.peopleStatus[2].selected,this.peopleStatus[3].selected,this.peopleStatus[0].selected,this.peopleStatus[1].selected):this.isPip&&this.deviceDetails?.deviceType!="People Counter"?this.handleSigFoxChart(e?.name,this.filterForm.get("fromDate")?.value?.toISOString(),this.filterForm.get("toDate")?.value?.toISOString(),this.peopleStatus[0]?.selected,this.peopleStatus[2]?.selected,this.peopleStatus[1].selected,this.peopleStatus[3].selected,!1):this.handlePeopleCounterChart(e?.name,this.filterForm.get("fromDate")?.value?.toISOString(),this.filterForm.get("toDate")?.value?.toISOString(),this.peopleStatus[2].selected,this.peopleStatus[3].selected,this.peopleStatus[0].selected,this.peopleStatus[1].selected)}handleExportExcel(){this._SharedService.exportToExcel(this.current_chart_data,this.deviceDetails?.identifier)}applyFilterDate(){console.log(this.filterForm.value),this.loadingFilter=!0,this.customFilters.map(e=>{e.isActive=!1}),!this.isPip&&this.deviceDetails?.deviceType!="People Counter"?(this.handleChart(null,this.filterForm.get("fromDate")?.value?.toISOString(),this.filterForm.get("toDate")?.value?.toISOString(),this.peopleStatus[2].selected,this.peopleStatus[3].selected,this.peopleStatus[0].selected,this.peopleStatus[1].selected),this.filterForm.reset()):this.isPip&&this.deviceDetails?.deviceType!="People Counter"?(this.handleSigFoxChart(null,this.filterForm.get("fromDate")?.value?.toISOString(),this.filterForm.get("toDate")?.value?.toISOString(),this.peopleStatus[0]?.selected,this.peopleStatus[2]?.selected,this.peopleStatus[1].selected,this.peopleStatus[3].selected,!1),this.filterForm.reset()):(this.handlePeopleCounterChart(null,this.filterForm.get("fromDate")?.value?.toISOString(),this.filterForm.get("toDate")?.value?.toISOString(),this.peopleStatus[2].selected,this.peopleStatus[3].selected,this.peopleStatus[0].selected,this.peopleStatus[1].selected),this.filterForm.reset())}applyPeriod(){this.loadingFilter=!0;let e=this.customFilters.filter(a=>a.isActive)[0];!this.isPip&&this.deviceDetails?.deviceType!="People Counter"?this.handleChart(e?.name,this.filterForm.get("fromDate")?.value?.toISOString(),this.filterForm.get("toDate")?.value?.toISOString(),this.peopleStatus[2].selected,this.peopleStatus[3].selected,this.peopleStatus[0].selected,this.peopleStatus[1].selected):this.isPip&&this.deviceDetails?.deviceType!="People Counter"?this.handleSigFoxChart(e?.name,this.filterForm.get("fromDate")?.value?.toISOString(),this.filterForm.get("toDate")?.value?.toISOString(),this.peopleStatus[0]?.selected,this.peopleStatus[2]?.selected,this.peopleStatus[1].selected,this.peopleStatus[3].selected,!1):(this.handlePeopleCounterChart(null,this.filterForm.get("fromDate")?.value?.toISOString(),this.filterForm.get("toDate")?.value?.toISOString(),this.peopleStatus[2].selected,this.peopleStatus[3].selected,this.peopleStatus[0].selected,this.peopleStatus[1].selected),this.filterForm.reset())}handleSelecedStatus(e){let a=this.customFilters.filter(t=>t.isActive)[0];e.selected=!e?.selected,!this.isPip&&this.deviceDetails?.deviceType!="People Counter"?this.handleChart(a?.name,this.filterForm.get("fromDate")?.value?.toISOString(),this.filterForm.get("toDate")?.value?.toISOString(),this.peopleStatus[2].selected,this.peopleStatus[3].selected,this.peopleStatus[0].selected,this.peopleStatus[1].selected):this.isPip&&this.deviceDetails.deviceType!="People Counter"?this.handleSigFoxChart(a?.name,this.filterForm.get("fromDate")?.value?.toISOString(),this.filterForm.get("toDate")?.value?.toISOString(),this.peopleStatus[0]?.selected,this.peopleStatus[2]?.selected,this.peopleStatus[1].selected,this.peopleStatus[3].selected,!1):this.handlePeopleCounterChart(a?.name,this.filterForm.get("fromDate")?.value?.toISOString(),this.filterForm.get("toDate")?.value?.toISOString(),this.peopleStatus[2].selected,this.peopleStatus[3].selected,this.peopleStatus[0].selected,this.peopleStatus[1].selected)}handleChart(e,a,t,s=!0,c=!0,h=!0,x=!0){this.loadingChart=!0,this.isPip||this._DahsboardService.getDeviceChart(this.deviceDetails?.identifier,e,a,t,s,c,h,x).subscribe({next:D=>{this.current_chart_data=D?.data,console.log("data chart",D),this.data_alarms.labels=D?.data?.map(o=>o?.lastSeen),this.data_alarms.datasets[0].data=D?.data?.map(o=>o?.periodIn),this.data_alarms.datasets[1].data=D?.data?.map(o=>o?.periodOut),this.data_alarms.datasets[2].data=D?.data?.map(o=>o?.accumulatedIn),this.data_alarms.datasets[3].data=D?.data?.map(o=>o?.accumulatedOut),this.alarms_chart.chart.update(),this.loadingChart=!1,this.loadingFilter=!1,this.filterVisiblle=!1},error:D=>{this.loadingChart=!1,this.loadingFilter=!1,this.filterVisiblle=!1}})}handleSigFoxChart(e,a,t,s=!0,c=!0,h=!0,x=!0,D=!1){this._DahsboardService.getPipChart(this.deviceDetails?.identifier,e,a,t,s,c,h,x,!1).subscribe({next:o=>{console.log("res sigfox chart",o?.data),this.current_chart_data=o?.data,this.data_alarms.labels=o?.data?.map(C=>C?.lastSeen),this.data_alarms.datasets[0].label="Temperature",this.data_alarms.datasets[0].data=o?.data?.map(C=>C?.temperatureCelsius),this.data_alarms.datasets[1].label="Battery Level",this.data_alarms.datasets[1].data=o?.data?.map(C=>C?.batteryVoltage),this.data_alarms.datasets[2].label="Tilt Angle",this.data_alarms.datasets[2].data=o?.data?.map(C=>C?.tiltAngleDegrees),this.data_alarms.datasets[3].label="Ultrasonic Distance",this.data_alarms.datasets[3].data=o?.data?.map(C=>C?.ultrasonicDistance),this.alarms_chart.chart.update(),this.loadingChart=!1,this.loadingFilter=!1,this.filterVisiblle=!1},error:o=>{this.loadingChart=!1,this.loadingFilter=!1,this.filterVisiblle=!1}})}handlePeopleCounterChart(e,a,t,s=!0,c=!0,h=!0,x=!0){this.loadingChart=!0,this._DahsboardService.getPeopleCounterChart(this.deviceDetails?.identifier,e,a,t,s,c,h,x).subscribe({next:D=>{this.current_chart_data=D?.data,console.log("data chart",D),this.data_alarms.labels=D?.data?.map(o=>o?.lastSeen),this.data_alarms.datasets[0].data=D?.data?.map(o=>o?.periodIn),this.data_alarms.datasets[1].data=D?.data?.map(o=>o?.periodOut),this.data_alarms.datasets[2].data=D?.data?.map(o=>o?.accumulatedIn),this.data_alarms.datasets[3].data=D?.data?.map(o=>o?.accumulatedOut),this.alarms_chart.chart.update(),this.loadingChart=!1,this.loadingFilter=!1,this.filterVisiblle=!1},error:D=>{this.loadingChart=!1,this.loadingFilter=!1,this.filterVisiblle=!1}})}getTableData(e){this.loadingState=!0,this.tableData=[];let a=e?.first/e?.rows+1;e?.rows==this.per_page?this.current_page=a:this.current_page=1,this.per_page=e?.rows,this._DahsboardService.getDeviceNewDetails(this.deviceId,this.devceType,this.current_page,this.per_page).subscribe(t=>{this.loadingState=!0,this.current_page=t?.data?.readings?.currentPage,this.per_page=t?.data?.readings?.pageSize,this.totalItems=t?.data?.readings?.totalItems,this.tableData=t?.data?.readings?.items})}dateRangeValidator(e){let a=e.get("fromDate")?.value,t=e.get("toDate")?.value;return!a||!t?null:new Date(t).getTime()<=new Date(a).getTime()?{dateRangeInvalid:!0}:null}get dateRangeError(){return this.filterForm.hasError("dateRangeInvalid")}static{this.\u0275fac=function(a){return new(a||i)(y(Ae),y(ye),y(We),y(U),y(de),y(X),y($),y(Ie))}}static{this.\u0275cmp=K({type:i,selectors:[["app-new-details"]],viewQuery:function(a,t){if(a&1&&(H(Wi,5),H(Fe,5)),a&2){let s;W(s=z())&&(t.alarms_chart=s.first),W(s=z())&&(t.map=s.first)}},decls:110,vars:107,consts:[["markerElem","mapAdvancedMarker"],["alarms_chart",""],[1,"flex","items-center","gap-6"],[1,"head","flex","flex-col","gap-3","mb-6","justify-start","items-start"],["width","10rem","styleClass","mb-2"],[1,"text-sm","flex","items-center"],["width","5rem","styleClass","mb-2"],["width","5rem","height","5rem","styleClass","mb-2"],[1,"tabs","mb-12"],[1,"rounded-lg",3,"click","ngClass"],[3,"ngClass"],[1,"cards","grid","mb-12","gap-6","grid-cols-12"],[1,"single_card","col-span-12","md:col-span-6","lg:col-span-4","flex","items-center","gap-8"],[1,"icon","cursor-pointer","shadow-md","flex","items-center","justify-center",3,"click"],["width","26","height","26","viewBox","0 0 26 26","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.05209 16.0938C4.16668 19.6771 7.16669 22.4375 10.8959 23.1979","stroke","#1A232D","stroke-width","2","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],["d","M2.63541 11.9374C3.16666 6.677 7.60415 2.58325 13 2.58325C18.3958 2.58325 22.8333 6.68742 23.3646 11.9374","stroke","#1A232D","stroke-width","2","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],["d","M15.0938 23.2083C18.8125 22.4478 21.8021 19.7187 22.9375 16.1458","stroke","#1A232D","stroke-width","2","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],[1,"content"],[1,"icon","shadow-md","flex","items-center","justify-center"],["d","M18.2186 13.7603C18.8343 13.7603 19.3332 13.2614 19.3332 12.6457C19.3332 12.0302 18.8343 11.5312 18.2186 11.5312C17.6031 11.5312 17.1041 12.0302 17.1041 12.6457C17.1041 13.2614 17.6031 13.7603 18.2186 13.7603Z","stroke","#1A232D","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M21.3333 6.74992V8.61448C21.0729 8.58323 20.7708 8.56241 20.4479 8.56241H15.9896C13.7604 8.56241 13.0208 9.30203 13.0208 11.5312V16.8541H6.75001C3.41668 16.8541 2.58334 16.0208 2.58334 12.6874V6.74992C2.58334 3.41659 3.41668 2.58325 6.75001 2.58325H17.1667C20.5 2.58325 21.3333 3.41659 21.3333 6.74992Z","stroke","#1A232D","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M9.875 16.8542V21.3333","stroke","#1A232D","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M2.58334 12.8958H13","stroke","#1A232D","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M6.69788 21.3333H12.9999","stroke","#1A232D","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M18.2186 13.7603C18.8343 13.7603 19.3332 13.2614 19.3332 12.6457C19.3332 12.0302 18.8343 11.5312 18.2186 11.5312C17.6031 11.5312 17.1041 12.0302 17.1041 12.6457C17.1041 13.2614 17.6031 13.7603 18.2186 13.7603Z","stroke","#1A232D","stroke-width","1.5","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],["d","M21.3333 8.61457C21.0729 8.58332 20.7708 8.5625 20.4479 8.5625H15.9896C13.7604 8.5625 13.0208 9.30212 13.0208 11.5313V20.4479C13.0208 22.6771 13.7604 23.4167 15.9896 23.4167H20.4479C22.6771 23.4167 23.4167 22.6771 23.4167 20.4479V11.5313C23.4167 9.62504 22.875 8.81249 21.3333 8.61457ZM18.2188 11.5313C18.8333 11.5313 19.3333 12.0313 19.3333 12.6458C19.3333 13.2604 18.8333 13.7604 18.2188 13.7604C17.6042 13.7604 17.1042 13.2604 17.1042 12.6458C17.1042 12.0313 17.6042 11.5313 18.2188 11.5313ZM18.2188 20.4479C16.9896 20.4479 15.9896 19.4479 15.9896 18.2188C15.9896 17.7083 16.1667 17.2292 16.4583 16.8542C16.8646 16.3333 17.5 15.9896 18.2188 15.9896C18.7813 15.9896 19.2917 16.1979 19.6771 16.5313C20.1458 16.9479 20.4479 17.5521 20.4479 18.2188C20.4479 19.4479 19.4479 20.4479 18.2188 20.4479Z","stroke","#1A232D","stroke-width","1.5","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],["d","M20.448 18.2187C20.448 19.4478 19.448 20.4478 18.2189 20.4478C16.9897 20.4478 15.9897 19.4478 15.9897 18.2187C15.9897 17.7083 16.1668 17.2291 16.4584 16.8541C16.8647 16.3333 17.5001 15.9895 18.2189 15.9895C18.7814 15.9895 19.2918 16.1978 19.6772 16.5312C20.1459 16.9478 20.448 17.552 20.448 18.2187Z","stroke","#1A232D","stroke-width","1.5","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],["d","M23.4166 12.9999C23.4166 18.7499 18.75 23.4166 13 23.4166C7.24998 23.4166 3.73956 17.6249 3.73956 17.6249M3.73956 17.6249H8.4479M3.73956 17.6249V22.8333M2.58331 12.9999C2.58331 7.24992 7.20831 2.58325 13 2.58325C19.9479 2.58325 23.4166 8.37492 23.4166 8.37492M23.4166 8.37492V3.16659M23.4166 8.37492H18.7916","stroke","#1A232D","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"readings","grid","grid-cols-12","gap-6"],[1,"col-span-12","lg:col-span-6"],[1,"head","mb-6"],[1,"content","bg-white_color","rounded-lg","grid","p-4","gap-4","grid-cols-12","shadow-md"],[1,"col-span-12"],[1,"col-span-12","flex","flex-col","lg:col-span-6"],[1,"head","mb-6","flex","flex-wrap","items-center","justify-between"],[1,"flex","items-center","gap-4","flex-wrap"],[1,"content","h-72","lg:flex-1","rounded-lg"],["height","100%","width","100%",3,"options"],[3,"position","content"],[1,"devices_table",3,"ngClass"],[3,"onLazyLoad","totalRecords","lazy","value","paginator","rows","tableStyle","rowsPerPageOptions"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["styleClass","filterDailog",3,"visibleChange","header","draggable","visible","position","modal","dismissableMask","breakpoints"],[1,"py-4"],["action","",3,"formGroup"],[1,"mb-4"],["for","",1,"block","mb-2"],["appendTo","body","formControlName","fromDate","inputId","calendar-12h",3,"autofocus","hourFormat","showTime","placeholder","readonlyInput","iconDisplay","showIcon","showClear"],[1,""],["appendTo","body","formControlName","toDate","inputId","calendar-12h",3,"autofocus","hourFormat","showTime","placeholder","readonlyInput","iconDisplay","showIcon","showClear"],[1,"text-danger_color"],["pTemplate","footer"],[1,"text-xl","font-semibold"],["width","90","alt","",3,"src"],[1,"text-gold_color"],["width","100%","height","15rem","styleClass","mb-2"],[1,"col-span-12","flex","items-center","gap-4","lg:col-span-6"],[1,"icon","cursor-pointer",3,"click"],["alt","Image",3,"src","previewImageSrc","preview"],[1,"text-black_color","text-base","font-light"],[1,"icon"],["alt","",3,"src"],[1,"text-base","font-semibold"],[1,"form_group","flex","items-center","gap-3"],["for","",1,"text-sm"],[1,"max-w-24","loc"],["inputId","locale-us","suffix"," \xB0N","mode","decimal",3,"ngModelChange","ngModel","minFractionDigits"],["inputId","locale-us","suffix"," \xB0N","mode","decimal",3,"ngModelChange","ngModel"],[1,"bg-gold_color","text-white_color","px-3","py-1","rounded-lg","text-sm"],[3,"onClick","label"],[1,"col-span-12","p-6","px-12","flex-wrap","rounded-full","bg-white_color","shadow","flex","items-center","justify-between"],[1,"text-lg","fw-medium"],[1,"flex","flex-wrap","items-center","gap-4"],[1,"flex","px-3","py-1","rounded-2xl","border","border-1","border-black_color","items-center","gap-2",3,"ngClass"],[1,"col-span-12","bg-white_color","p-4","rounded-lg","shadow"],[1,"head","mb-4","flex","flex-wrap","items-center","justify-between"],[1,"text-lg"],[1,"flex","items-center","flex-wrap","gap-4"],[1,"filters","custom_filters","flex-wrap","flex","items-center","gap-4"],[1,"rounded-xl","px-3","py-1",3,"ngClass"],[1,"action_btn","flex","items-center","gap-4"],[3,"onClick","disabled","loading","label"],[1,"expand_filter",3,"click"],[1,"fi","text-lg","fi-rr-calendar"],[1,"fi","fi-rr-file-export"],["height","15rem","styleClass","mb-2"],[1,"chart"],["type","line","height","400px",3,"data","options"],[1,"flex","px-3","py-1","rounded-2xl","border","border-1","border-black_color","items-center","gap-2",3,"click","ngClass"],[1,"rounded-xl","px-3","py-1",3,"click","ngClass"],[3,"click"],[1,"fi","text-lg","fi-rr-circle-xmark"],[1,"capitalize"],[1,"flex","justify-center","gap-3","flex-row-reverse","items-center","text-success_color"],["width","20","height","20","viewBox","0 0 20 20","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M17.0833 7.91667C18.3333 7.91667 18.3333 8.33333 18.3333 9.16667V10.8333C18.3333 11.6667 18.3333 12.0833 17.0833 12.0833","stroke","#14AB46","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M5.31665 8.33333C5.59165 9.425 5.59165 10.575 5.31665 11.6667","stroke","#14AB46","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M8.2334 8.33333C8.5084 9.425 8.5084 10.575 8.2334 11.6667","stroke","#14AB46","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M10.8334 15.8333H5.83341C2.50008 15.8333 1.66675 15 1.66675 11.6667V8.33333C1.66675 5 2.50008 4.16667 5.83341 4.16667H10.8334C14.1667 4.16667 15.0001 5 15.0001 8.33333V11.6667C15.0001 15 14.1667 15.8333 10.8334 15.8333Z","stroke","#14AB46","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],[1,"flex","justify-center","gap-3","flex-row-reverse","items-center","text-warning_color"],["d","M17.0833 7.91666C18.3333 7.91666 18.3333 8.33333 18.3333 9.16666V10.8333C18.3333 11.6667 18.3333 12.0833 17.0833 12.0833","stroke","#FF9500","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M5.31665 8.33334C5.59165 9.425 5.59165 10.575 5.31665 11.6667","stroke","#FF9500","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M8.2334 8.33334C8.5084 9.425 8.5084 10.575 8.2334 11.6667","stroke","#FF9500","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M10.8334 15.8333H5.83341C2.50008 15.8333 1.66675 15 1.66675 11.6667V8.33333C1.66675 5 2.50008 4.16666 5.83341 4.16666H10.8334C14.1667 4.16666 15.0001 5 15.0001 8.33333V11.6667C15.0001 15 14.1667 15.8333 10.8334 15.8333Z","stroke","#FF9500","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],[1,"flex","justify-center","gap-3","flex-row-reverse","items-center","text-danger_color"],["d","M17.0833 7.91667C18.3333 7.91667 18.3333 8.33334 18.3333 9.16667V10.8333C18.3333 11.6667 18.3333 12.0833 17.0833 12.0833","stroke","#FF0004","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M5.31665 8.33333C5.59165 9.42499 5.59165 10.575 5.31665 11.6667","stroke","#FF0004","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M8.23334 8.33333C8.50834 9.42499 8.50834 10.575 8.23334 11.6667","stroke","#FF0004","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M10.8334 15.8333H5.83335C2.50002 15.8333 1.66669 15 1.66669 11.6667V8.33334C1.66669 5.00001 2.50002 4.16667 5.83335 4.16667H10.8334C14.1667 4.16667 15 5.00001 15 8.33334V11.6667C15 15 14.1667 15.8333 10.8334 15.8333Z","stroke","#FF0004","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],[3,"loadingState"],[1,"text-xl","font-medium"],[1,"flex","justify-start","gap-4"],[1,"action_btn"],[3,"onClick","loading","label","disabled"],[1,"cancel_btn","w-fit"]],template:function(a,t){if(a&1){let s=I();l(0,"section")(1,"div",2)(2,"div",3),S(3,Zi,1,0,"p-skeleton",4)(4,Yi,2,1),l(5,"p",5),p(6),m(7,"translate"),S(8,$i,1,0,"p-skeleton",6)(9,en,2,1),r()(),S(10,tn,1,0,"p-skeleton",7)(11,nn,2,1),r(),l(12,"div",8)(13,"button",9),A("click",function(){return b(s),E(t.current_tab=1)}),p(14),m(15,"translate"),r(),l(16,"button",9),A("click",function(){return b(s),E(t.current_tab=2)}),p(17),m(18,"translate"),r()(),l(19,"div",10)(20,"div",11)(21,"div",12)(22,"div",13),A("click",function(){return b(s),E(t.handleReload())}),B(),l(23,"svg",14),_(24,"path",15)(25,"path",16)(26,"path",17),r()(),le(),l(27,"div",18)(28,"p"),p(29),m(30,"translate"),r(),S(31,an,1,0,"p-skeleton",6)(32,rn,4,9),r()(),l(33,"div",12)(34,"div",19),B(),l(35,"svg",14),_(36,"path",20)(37,"path",21)(38,"path",22)(39,"path",23)(40,"path",24)(41,"path",25)(42,"path",26)(43,"path",27)(44,"path",25),r()(),le(),l(45,"div",18)(46,"p"),p(47),m(48,"translate"),r(),S(49,ln,1,0,"p-skeleton",6)(50,on,2,1),r()(),l(51,"div",12)(52,"div",19),B(),l(53,"svg",14),_(54,"path",28),r()(),le(),l(55,"div",18)(56,"p"),p(57),m(58,"translate"),r(),S(59,sn,1,0,"p-skeleton",6)(60,dn,3,3),r()()(),l(61,"div",29)(62,"div",30)(63,"div",31)(64,"h3"),p(65),m(66,"translate"),r()(),l(67,"div",32),S(68,cn,2,0,"div",33)(69,gn,2,0),r()(),l(70,"div",34)(71,"div",35)(72,"h3"),p(73),m(74,"translate"),r(),S(75,fn,16,12,"div",36),r(),l(76,"div",37)(77,"google-map",38),_(78,"map-advanced-marker",39,0),r()()(),S(80,_n,2,0,"div",33)(81,vn,2,0,"div",33)(82,bn,2,0,"div",33)(83,An,27,20),r()(),l(84,"div",40)(85,"p-table",41),A("onLazyLoad",function(h){return b(s),E(t.getTableData(h))}),S(86,yn,4,3,"ng-template",42)(87,Vn,4,3,"ng-template",43)(88,Bn,3,2,"ng-template",44),r()()(),l(89,"p-dialog",45),m(90,"translate"),O("visibleChange",function(h){return b(s),F(t.filterVisiblle,h)||(t.filterVisiblle=h),E(h)}),S(91,Rn,3,3,"ng-template",42),l(92,"div",46)(93,"form",47)(94,"div",48)(95,"label",49),p(96),m(97,"translate"),r(),_(98,"p-calendar",50),m(99,"translate"),S(100,Qn,1,1),r(),l(101,"div",51)(102,"label",49),p(103),m(104,"translate"),r(),_(105,"p-calendar",52),m(106,"translate"),S(107,jn,1,1)(108,Hn,3,3,"p",53),r()()(),S(109,Wn,7,8,"ng-template",54),r()}if(a&2){let s,c,h,x,D;n(3),w(3,t.deviceDetailsLoding?3:4),n(3),k(" ",u(7,63,"DEVICES.IDENTIFIER")," : "),n(2),w(8,t.deviceDetailsLoding?8:9),n(2),w(10,t.deviceDetailsLoding?10:11),n(3),f("ngClass",Q(89,Ze,t.current_tab==1,t.current_tab==1)),n(),g(u(15,65,"DEVICES.DETAILS")),n(2),f("ngClass",Q(92,Ze,t.current_tab==2,t.current_tab==2)),n(),g(u(18,67,"DEVICES.READINGS")),n(2),f("ngClass",V(95,Ye,t.current_tab==2)),n(10),g(u(30,69,"DEVICES.STATUS")),n(2),w(31,t.deviceDetailsLoding?31:32),n(16),g(u(48,71,"DEVICES.DEVICE_TYPE")),n(2),w(49,t.deviceDetailsLoding?49:50),n(8),g(u(58,73,"DEVICES.COMM_TYPE")),n(2),w(59,t.deviceDetailsLoding?59:60),n(6),g(u(66,75,"DEVICES.LAST_READINGS")),n(3),w(68,t.deviceDetailsLoding?68:69),n(5),g(u(74,77,"DEVICES.LOCATION")),n(2),w(75,t.location_flag||t.loc_flag?75:-1),n(2),f("options",t.options),n(),f("position",Q(97,zi,t.location.lat,t.location.lng))("content",t.location.content),n(2),w(80,t.custom_comp_Chart?80:-1),n(),w(81,t.custom_comp_Chart_lw?81:-1),n(),w(82,t.custom_chart_WBB?82:-1),n(),w(83,t.location_flag?83:-1),n(),f("ngClass",q(100,Ui,t.current_tab==1,t.is_arabic,!t.is_arabic)),n(),f("totalRecords",t.totalItems)("lazy",!0)("value",t.tableData)("paginator",!0)("rows",t.per_page)("tableStyle",P(104,Ji))("rowsPerPageOptions",P(105,Gi)),n(4),Z("header",u(90,79,"DEVICES.REANGE_DATE_FILTER")),f("draggable",!1),T("visible",t.filterVisiblle),f("position",t.is_arabic?"left":"right")("modal",!0)("dismissableMask",!0)("breakpoints",P(106,qi)),n(4),f("formGroup",t.filterForm),n(3),g(u(97,81,"DEVICES.FROM_DATE")),n(2),f("autofocus",!1)("hourFormat","12")("showTime",!0)("placeholder",u(99,83,"DEVICES.SELECT_FROM_DATE"))("readonlyInput",!0)("iconDisplay","input")("showIcon",!0)("showClear",!!((s=t.filterForm.get("fromDate"))!=null&&s.value)),n(2),w(100,(c=t.filterForm.get("fromDate"))!=null&&c.invalid&&((c=t.filterForm.get("fromDate"))!=null&&c.touched)?100:-1),n(3),g(u(104,85,"DEVICES.TO_DATE")),n(2),f("autofocus",!1)("hourFormat","12")("showTime",!0)("placeholder",u(106,87,"DEVICES.SELECT_TO_DATE"))("readonlyInput",!0)("iconDisplay","input")("showIcon",!0)("showClear",!!((h=t.filterForm.get("toDate"))!=null&&h.value)),n(2),w(107,(x=t.filterForm.get("toDate"))!=null&&x.invalid&&((x=t.filterForm.get("toDate"))!=null&&x.touched)?107:-1),n(),w(108,t.dateRangeError&&((D=t.filterForm.get("toDate"))!=null&&D.touched)?108:-1)}},dependencies:[Y,me,ie,ce,ue,he,ke,ge,Me,te,Te,ne,ae,re,Ce,ct,pt,Fe,ht,_t,vt,bt,We,ee],styles:[".tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px}.cards[_ngcontent-%COMP%]   .single_card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:40px;height:40px;background-color:#fff;border-radius:50%;-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;-o-border-radius:50%}.card[_ngcontent-%COMP%]{background-color:#fff}.doted[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:50%;-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;-o-border-radius:50%}.doted.small_doted[_ngcontent-%COMP%]{width:15px;height:15px}.doted.small_doted.success[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(var(--success_color) / var(--tw-bg-opacity, 1));box-shadow:0 0 0 3px #b6fccd,0 0 0 5px #e4ffed}.doted.small_doted.danger[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(var(--danger_color) / var(--tw-bg-opacity, 1));box-shadow:0 0 0 3px #ffdada,0 0 0 5px #ffdfdf}.doted.success[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(var(--success_color) / var(--tw-bg-opacity, 1));box-shadow:0 0 0 6px #b6fccd,0 0 0 7px #e4ffed}.doted.danger[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(var(--danger_color) / var(--tw-bg-opacity, 1));box-shadow:0 0 0 6px #ffdada,0 0 0 7px #ffdfdf}  .devices_table .p-datatable-table{border-collapse:separate!important;border-spacing:0 1rem}  .devices_table .p-datatable .p-datatable-thead>tr>th{background-color:transparent;text-align:center;--tw-text-opacity: 1;color:rgb(var(--gold_color) / var(--tw-text-opacity, 1))}  .devices_table .p-datatable .p-datatable-tbody{background-color:transparent}  .devices_table .p-datatable .p-datatable-tbody>tr>td{--tw-bg-opacity: 1;background-color:rgb(var(--whiteColor) / var(--tw-bg-opacity, 1));text-align:center}  .devices_table.ltr_dir .p-datatable .p-datatable-tbody>tr>td:first-child{border-top-left-radius:2.5rem;border-bottom-left-radius:2.5rem}  .devices_table.ltr_dir .p-datatable .p-datatable-tbody>tr>td:last-child{border-top-right-radius:2.5rem;border-bottom-right-radius:2.5rem}  .devices_table.rtl_dir .p-datatable .p-datatable-tbody>tr>td:first-child{border-top-right-radius:2.5rem;border-bottom-right-radius:2.5rem}  .devices_table.rtl_dir .p-datatable .p-datatable-tbody>tr>td:last-child{border-top-left-radius:2.5rem;border-bottom-left-radius:2.5rem}  .devices_table .p-datatable .p-datatable-tbody>tr{border-radius:1.5rem;background-color:transparent}  .namespace_action.p-menu{border-radius:1rem;padding:.75rem}  .namespace_action.p-menu .p-submenu-header{display:none}  .namespace_action.p-menu .p-menuitem-icon{display:flex;align-items:center;justify-content:center}  .select_type_popup{position:relative}  .select_type_popup .p-dialog-header .p-dialog-header-icons{display:none}  .select_type_popup .p-dialog-content .icon_over_lay{position:absolute;top:-12%;left:50%;transform:translate(-50%);width:80px;height:80px;--tw-bg-opacity: 1;background-color:rgb(var(--whiteColor) / var(--tw-bg-opacity, 1));border-radius:50%;-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;-o-border-radius:50%;-webkit-transform:translateX(-50%);-moz-transform:translateX(-50%);-ms-transform:translateX(-50%);-o-transform:translateX(-50%)}  .select_type_popup .p-dialog-content .single_type{width:180px;box-shadow:0 0 2px #00000040}.btn_view[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.btn_view[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{display:block}.icon_filter[_ngcontent-%COMP%]{width:50px;height:50px;display:flex;align-items:center;justify-content:center;border-radius:50%;-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;-o-border-radius:50%}.icon_filter[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{width:20px;height:20px;position:absolute;top:-4px;right:-10px}"]})}}return i})();var zn=[{path:"",redirectTo:"devices",pathMatch:"full"},{path:"devices",component:ft},{path:"devices/:id/:type",component:Et}],St=(()=>{class i{static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275mod=Se({type:i})}static{this.\u0275inj=be({imports:[ze.forChild(zn),ze]})}}return i})();var Pa=(()=>{class i{constructor(e){this._SharedService=e,this._SharedService.breadCrumbTitle.next("Device Management")}static{this.\u0275fac=function(a){return new(a||i)(Ee(U))}}static{this.\u0275mod=Se({type:i})}static{this.\u0275inj=be({imports:[nt,St,ut,mt,Ct]})}}return i})();export{Pa as DevicesModule};
